{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?7e02","webpack:///./src/components/floatToolbar.vue?c9e2","webpack:///./src/App.vue?fc9e","webpack:///./src/components/floatToolbar.vue?3442","webpack:///src/components/floatToolbar.vue","webpack:///./src/components/floatToolbar.vue?a41b","webpack:///./src/components/floatToolbar.vue","webpack:///./src/js/xmind.js","webpack:///./src/js/fileFormator.js","webpack:///./src/js/toolsInfo.js","webpack:///src/App.vue","webpack:///./src/App.vue?1160","webpack:///./src/App.vue","webpack:///src/components/tipKit.vue","webpack:///./src/components/tipKit.vue?fa42","webpack:///./src/components/tipKit.vue","webpack:///./src/lang/lang.js","webpack:///./src/js/vscodeHost.js","webpack:///./src/main.js","webpack:///./src/js/hostAdapter.js","webpack:///./src/components/tipKit.vue?1101"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","staticClass","ref","attrs","draggable","showMenuContent","onNewWorkBook","onOpen","onSave","onUndo","onRedo","onStartSearch","on","onFocusTopicChanged","onBlurFloatPanel","onHistoryChanged","menuContent","$event","_v","_s","_T","requestInput","caption","directives","rawName","expression","tip","domProps","target","composing","$set","onInputConfirm","onInputCancel","_e","requestSearch","onSearchInputChange","onSearchNext","onSearchPrev","onSearchCancel","staticRenderFns","class","showContent","$emit","staticStyle","_l","item","index","itemClass","fn","nop","separate","svg","style","width","height","viewBox","html","subItems","subItem","subIdx","_t","component","constants","CLASSIC_ATTACHMENT_PATH","CLASSIC_CONTENT_FILE","CLASSIC_META_FILE","CLASSIC_COMMENTS_FILE","CLASSIC_MANIFEST_FILE","ZEN_RESOURCE_PATH","ZEN_MANIFEST_FILE","ZEN_META_FILE","ZEN_CONTENT_FILE","KEY_FILE_ENTRIES","XMindFile","attachments","comments","sheets","meta","_path","_data","path","_id","_objectID","_content","_author","_time","object_id","content","author","time","_sheet","_obj","assign","loadZenAttachments","_xmindFile","_zip","manifestEntry","file","async","manifestJSON","manifestDoc","JSON","parse","manifestList","indexOf","attachmentFile","setAttachment","loadZenContent","contentEntry","contentJSON","contentDoc","setSheet","id","loadZenMeta","metaEntry","metaJSON","metaDoc","setMeta","loadZenEdition","xmindFile","console","error","undefined","xmlAttr2ObjectMember","_node","_maps","attachmentsPrefix","attachmentRegexpStr","zenAttachmentPrefix","attr","hasAttribute","String","getAttribute","startsWith","replace","RegExp","xmlChildren2ObjectMember","_undefinedParser","children","childNodes","tagName","parserFn","textContent","loadClassicAttachments","manifestXML","parser","DOMParser","parseFromString","documentElement","trim","endsWith","loadClassicComments","CommentsEntry","commentsXML","commentsDoc","commentsList","objectID","parseInt","contentItem","setComment","classicChildTopicParserMap","_list","_child","classicTopicParser","classicChildrenTopicsParserMap","_children","_itemNode","type","classicTopicParserMap","_topic","image","src","labels","_labels","_item","notes","_notes","_nodeItem","plain","markers","_markers","_marker","markerId","position","extensions","_extensions","extension","provider","_nouse","_contentNode","_childNode","topic","href","structureClass","classicRelationCtrlPointParserMap","_cpSet","amount","parseFloat","angle","classicRelationshipParserMap","_rel","controlPoints","classicRelationshipParser","_relList","_relNode","_relationship","end1Id","end2Id","classicSheetParserMap","rootTopic","relationships","loadClassicSheetItem","sheet","loadClassicSheets","sheetsEntry","sheetsXML","sheetsDoc","_null","_sheetNode","loadClassicMetadata","metaXML","_meta","creator","loadClassicEdition","load","_source","zipFunc","JSZip","loadAsync","base64","zip","save","manifest","entries","fileName","sheetId","stringify","generateAsync","createEmpty","getTopicIterator","getTopicIteratorFromMinds","freeze","NAME","VERSION","DEF_TOPIC_TYPE","convertDataByMap","_target","_map","_args","parserArgs","Array","itemParser","xmindHtmlNotes2Plain","_html","_tag","ret","idx","xmindTopicDataMap","_storage","_value","markerList","markerIdx","markerItem","split","markerType","markerValue","fromXMindTopic","_extType","_tagret","title","direction","childrenType","topicType","childrenIdx","fromXMind","source","targetSheet","toXMindTopicDataMap","toXMindTopic","childrenSet","childIdx","childTopic","childTarget","childType","toXMind","_mind","idxSheet","sourceSheet","version","_topicList","_level","level","childTopicDesc","f","_minds","topicDesc","hostAdapter","onExportMarkdown","onSaveAs","onNewPage","onRenamePage","onDeletePage","execCmd","notForRoot","invokePropertyEditor","$refs","mindView","invokeImagePicker","mind","fold","showTip","_msg","_icon","_opt","require","DEFAULT_TIMEOUT","procResultMessage","_event","timerID","clearTimeout","removeEventListener","event","resolve","detail","waitTimeout","log","reject","VSCodeHost","_host","host","addEventListener","onMessage","message","$return","customEvent","CustomEvent","dispatchEvent","$notify","_cmd","_param","postMessage","command","_type","_timeout","Promise","thisArg","setTimeout","once","send","promise","acquireVsCodeApi","vscode","then","sendAndWait","env","translate","map","lang","language","appLang","zhCN","finally","Vue","use","mindSvgView","tipKit","render","h","App","$mount","loadCurrentFile","buffer","Buffer","from","blob","Blob","saveFile","_blob","_params","reader","FileReader","onload","toString","readAsArrayBuffer","url","URL","createObjectURL","utility","dynInvokeLink","download","revokeObjectURL","saveFileAs","saveToFile","_filterName","_filter","_show","filter","openAfterSave","newFile","open","location","openFile","pickFile","noSpecialHost","setHost"],"mappings":"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","file":"js/app.714c2911.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./floatToolbar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./floatToolbar.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"main\"},[_c('mind-svg-view',{ref:\"mindView\",attrs:{\"view-class\":\"mind-view-class\",\"mind-config\":{draggable: true},\"attachment-path\":\"resources\",\"show-edit-tools\":!_vm.showMenuContent,\"key-action-map\":{\n                'ctrl+alt+n': _vm.onNewWorkBook, \n                'ctrl+o': _vm.onOpen,\n                'ctrl+s': _vm.onSave,\n                'ctrl+down': 'addSubTopic', \n                'ctrl+right': 'addSiblingTopic',\n                'up': 'selectParent',\n                'down': 'selectChild',\n                'left': 'selectPreviousSibling',\n                'right': 'selectNextSibling',\n                'enter': 'editTopic',\n                'delete': 'deleteTopic',\n                'ctrl+z': _vm.onUndo,\n                'ctrl+y': _vm.onRedo,\n                'f3': _vm.onStartSearch\n        }},on:{\"focus-topic-changed\":_vm.onFocusTopicChanged,\"blur-float-panel\":_vm.onBlurFloatPanel,\"history-changed\":_vm.onHistoryChanged}}),_c('floatToolbar',{ref:\"toolbar\",attrs:{\"show-content\":_vm.showMenuContent,\"items\":_vm.menuContent},on:{\"handler-click\":function($event){_vm.showMenuContent = !_vm.showMenuContent}}},[(_vm.requestInput)?_c('div',{staticClass:\"mind-input-panel\"},[_c('span',[_vm._v(_vm._s(_vm._T(_vm.requestInput.caption)))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.requestInput.value),expression:\"requestInput.value\"}],attrs:{\"placeholder\":_vm._T(_vm.requestInput.tip)},domProps:{\"value\":(_vm.requestInput.value)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.requestInput, \"value\", $event.target.value)}}}),_c('button',{staticClass:\"mind-input-button\",on:{\"click\":_vm.onInputConfirm}},[_vm._v(_vm._s(_vm._T(\"Confirm\")))]),_c('button',{staticClass:\"mind-input-button\",on:{\"click\":_vm.onInputCancel}},[_vm._v(_vm._s(_vm._T(\"Cancel\")))])]):_vm._e(),(_vm.requestSearch)?_c('div',{staticClass:\"mind-input-panel\"},[_c('span',[_vm._v(_vm._s(_vm._T('search:')))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.requestSearch.value),expression:\"requestSearch.value\"}],attrs:{\"placeholder\":_vm._T('Input search information')},domProps:{\"value\":(_vm.requestSearch.value)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.requestSearch, \"value\", $event.target.value)},_vm.onSearchInputChange]}}),_c('button',{staticClass:\"mind-input-button\",on:{\"click\":_vm.onSearchNext}},[_vm._v(_vm._s(_vm._T(\"Next\")))]),_c('button',{staticClass:\"mind-input-button\",on:{\"click\":_vm.onSearchPrev}},[_vm._v(_vm._s(_vm._T(\"Prev\")))]),_c('button',{staticClass:\"mind-input-button\",on:{\"click\":_vm.onSearchCancel}},[_vm._v(_vm._s(_vm._T(\"Cancel\")))])]):_vm._e()])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"float-toolbar\"},[_c('div',{class:(\"float-toolbar-handler \" + (_vm.showContent ? '' : 'float-toolbar-handler-nocontent')),on:{\"click\":function($event){return _vm.$emit('handler-click')}}},[_vm._v(\" \"+_vm._s(_vm._T(\"menu\"))+\" \"),(!_vm.showContent)?_c('div',{staticClass:\"float-icon-triangle float-icon-triangle-right\",staticStyle:{\"border-left-color\":\"#fff\"}}):_vm._e()]),(_vm.showContent)?_c('div',{staticClass:\"float-toolbar-content\"},_vm._l((_vm.items),function(item,index){return _c('div',{key:index,class:_vm.itemClass(item),on:{\"click\":function($event){item.fn ? item.fn(item) : _vm.nop()}}},[(!item.separate && item.svg)?_c('svg',{style:({width:((item.svg.width) + \"px\"), height:((item.svg.height) + \"px\")}),attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"version\":\"1.1\",\"viewBox\":item.svg.viewBox},domProps:{\"innerHTML\":_vm._s(item.svg.html)}}):_vm._e(),(!item.separate && !item.svg)?_c('span',{staticClass:\"float-toolbar-item-caption\",domProps:{\"innerHTML\":_vm._s(_vm._T(item.caption))}}):_vm._e(),(!item.separate && item.svg)?_c('span',{staticClass:\"float-toolbar-item-tip\"},[_vm._v(_vm._s(_vm._T(item.caption)))]):_vm._e(),(!item.separate && item.subItems)?_c('div',{staticClass:\"float-icon-triangle float-icon-triangle-down float-icon-triangle-color\"}):_vm._e(),(!item.separate && item.subItems)?_c('div',{staticClass:\"float-toolbar-subgroup\"},_vm._l((item.subItems),function(subItem,subIdx){return _c('div',{key:subIdx,class:_vm.itemClass(subItem, true),on:{\"click\":function($event){subItem.fn ? subItem.fn(subItem) : _vm.nop()}}},[_c('div',{staticClass:\"float-toolbar-item-caption\",style:(subItem.style),domProps:{\"innerHTML\":_vm._s(_vm._T(subItem.caption))}})])}),0):_vm._e()])}),0):_vm._e(),_c('div',[_vm._t(\"default\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"float-toolbar\">\r\n        <div :class=\"`float-toolbar-handler ${showContent ? '' : 'float-toolbar-handler-nocontent'}`\"\r\n            @click=\"$emit('handler-click')\" >\r\n            {{_T(\"menu\")}}\r\n            <div v-if=\"!showContent\" class=\"float-icon-triangle float-icon-triangle-right\" style=\"border-left-color: #fff;\" />\r\n        </div>\r\n        <div class=\"float-toolbar-content\" v-if=\"showContent\">\r\n            <div v-for=\"(item, index) in items\" :key=\"index\" \r\n                :class=\"itemClass(item)\"\r\n                @click=\"item.fn ? item.fn(item) : nop()\">\r\n                <svg v-if=\"!item.separate && item.svg\" xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\" :viewBox=\"item.svg.viewBox\" :style=\"{width:`${item.svg.width}px`, height:`${item.svg.height}px`}\" v-html=\"item.svg.html\" />\r\n                <span v-if=\"!item.separate && !item.svg\" class=\"float-toolbar-item-caption\" v-html=\"_T(item.caption)\" />\r\n                <span v-if=\"!item.separate && item.svg\" class=\"float-toolbar-item-tip\">{{_T(item.caption)}}</span>\r\n                <div v-if=\"!item.separate && item.subItems\" class=\"float-icon-triangle float-icon-triangle-down float-icon-triangle-color\" />\r\n                <div v-if=\"!item.separate && item.subItems\" class=\"float-toolbar-subgroup\">\r\n                    <div v-for=\"(subItem, subIdx) in item.subItems\" :key=\"subIdx\" \r\n                        :class=\"itemClass(subItem, true)\"\r\n                        @click=\"subItem.fn ? subItem.fn(subItem) : nop()\">\r\n                        <div class=\"float-toolbar-item-caption\" v-html=\"_T(subItem.caption)\" :style=\"subItem.style\" />\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n        <div><slot></slot></div>\r\n    </div>    \r\n</template>\r\n\r\n<style>\r\n    .float-toolbar {\r\n        position: absolute;\r\n        top: 0px;\r\n        left: 0px;\r\n        margin: 17px;\r\n        background-color: transparent;\r\n        border: 0px;\r\n        border-radius: 6px;\r\n        box-shadow: 0px 0px 6px rgba(128, 128, 128, 0.6);\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        font-size: 13px;\r\n    }\r\n\r\n    .float-icon-triangle {\r\n        width: 0px;\r\n        height: 0px;\r\n        padding: 0px;\r\n        margin-left: 3px;\r\n        border: 0px solid #333;\r\n    }\r\n\r\n    .float-icon-triangle-right {\r\n        border-left-width: 10px;\r\n        border-top: 6px solid transparent;\r\n        border-bottom: 6px solid transparent;\r\n    }\r\n\r\n    .float-icon-triangle-down {\r\n        border-top-width: 10px;\r\n        border-left: 6px solid transparent;\r\n        border-right: 6px solid transparent;\r\n    }\r\n\r\n    .float-toolbar-handler {\r\n        padding: 6px;\r\n        background-color: rgba(46, 46, 46, 0.8);\r\n        color: #fff;\r\n        border: 0px;\r\n        border-radius: 6px 0px 0px 6px;\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n        flex-wrap: nowrap;\r\n        white-space: nowrap;\r\n    }\r\n\r\n    .float-toolbar-handler-nocontent {\r\n        border-radius: 6px;\r\n    }\r\n\r\n    .float-toolbar-content {\r\n        padding: 0px 6px 0px 0px;\r\n        background-color: rgba(255, 255, 255, 0.6);\r\n        color: #000;\r\n        border: 0px;\r\n        border-radius: 0px 6px 6px 0px;\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .float-toolbar-content:hover {\r\n        background-color: rgba(255, 255, 255, 0.9);\r\n    }\r\n\r\n    .float-toolbar-plain-item {\r\n        position: relative;\r\n        padding: 6px;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background-color: transparent; /* rgba(255, 255, 255, 0.6); */\r\n        font-size: 10px;\r\n        color: #333;\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n    }\r\n\r\n    .float-toolbar-item {\r\n        position: relative;\r\n        padding: 6px;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background-color: transparent;\r\n        font-size: 10px;\r\n        color: #333;\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        white-space: nowrap;\r\n        fill: none;\r\n        stroke: #333;\r\n        stroke-width: 1.5;\r\n    }\r\n\r\n    .float-toolbar-subitem {\r\n        height: unset;\r\n        width: 100%;\r\n        text-align: left;\r\n        justify-content: flex-start;\r\n    }\r\n\r\n    .float-toolbar-separate-item {\r\n        position: relative;\r\n        margin: 0px 1px;\r\n        padding: 0px;\r\n        width: 0px;\r\n        height: 20px;\r\n        box-sizing: border-box;\r\n        border: 0px;\r\n        border-left: 1px solid #ccc;\r\n        border-right: 1px solid #eee;\r\n    }\r\n\r\n    .float-toolbar-separate-subitem {\r\n        position: relative;\r\n        margin: 1px 0px;\r\n        padding: 0px;\r\n        width: 90%;\r\n        height: 0px;\r\n        box-sizing: border-box;\r\n        border: 0px;\r\n        border-top: 1px solid #ccc;\r\n        border-bottom: 1px solid #eee;\r\n    }\r\n\r\n    .float-toolbar-item-caption {\r\n        white-space: nowrap;\r\n    }\r\n\r\n    .float-toolbar-item-tip {\r\n        position: absolute;\r\n        padding: 6px;\r\n        box-sizing: border-box;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background-color: rgba(255, 255, 220, 0.8);\r\n        font-size: 9px;\r\n        color: #333;\r\n        display: none;\r\n        white-space: nowrap;\r\n        border: 1px solid #999;\r\n        top: 100%;\r\n        left: 0px;\r\n    }\r\n\r\n    .float-toolbar-disable-item {\r\n        position: relative;\r\n        padding: 6px;\r\n        height: 100%;\r\n        box-sizing: border-box;\r\n        justify-content: center;\r\n        align-items: center;\r\n        background-color: transparent;\r\n        font-size: 10px;\r\n        color: #aaa;\r\n        display: flex;\r\n        flex-direction: row;\r\n        flex-wrap: nowrap;\r\n        fill: none;\r\n        stroke: #aaa;\r\n        stroke-width: 1.5;\r\n    }\r\n\r\n    .float-toolbar-subgroup {\r\n        position: absolute;\r\n        top: 100%;\r\n        left: 0px;\r\n        background-color: rgba(255, 255, 255, 0.9);\r\n        border: 0px;\r\n        border-radius: 0px 0px 6px 6px;\r\n        padding: 0px 0px 6px 0px;\r\n        box-shadow: 0px 0px 6px rgba(128, 128, 128, 0.6);\r\n        display: none;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        z-index: 999;\r\n    }\r\n\r\n    .float-toolbar-item:hover {\r\n        background: linear-gradient(to top, rgba(0, 117, 255, 0.9) 26%,rgba(0, 157, 255, 0.9) 90%,rgba(0, 170, 255, 0.9) 100%);\r\n        color: #fff;\r\n        fill: none;\r\n        stroke: #fff;\r\n        stroke-width: 1.5;\r\n    }\r\n\r\n    .float-toolbar-item:hover .float-toolbar-subgroup {\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .float-toolbar-item:hover .float-toolbar-item-tip {\r\n        display: inline;\r\n    }\r\n    \r\n    .float-toolbar-item:hover .float-icon-triangle-color {\r\n        border-top-color: #fff;\r\n    }\r\n\r\n    .float-toolbar-item:active {\r\n        background: linear-gradient(to top, rgba(0, 170, 255, 0.9) 26%,rgba(0, 157, 255, 0.9) 90%,rgba(0, 117, 255, 0.9) 100%);\r\n        color: #fff;\r\n        fill: none;\r\n        stroke: #fff;\r\n        stroke-width: 1.5;\r\n    }\r\n\r\n</style>\r\n\r\n<script>\r\n\r\nimport { translate } from \"mind.svg.vue\"\r\n\r\nexport default {\r\n    data() {\r\n        return {\r\n            \r\n        }\r\n    },\r\n    props: {\r\n        showContent: Boolean,\r\n        items: {\r\n            type: Array,\r\n            required: true\r\n        }\r\n    },\r\n    methods: {\r\n        _T: translate.get,\r\n        nop() {},\r\n        log(_item) {\r\n            console.log(_item);\r\n        },\r\n        itemClass(_item, _subItem) {\r\n            return `${_item.separate ? `float-toolbar-separate-${_subItem ? \"subitem\" : \"item\"}`\r\n                        : (_item.disable ? 'float-toolbar-disable-item' \r\n                            : ((_item.fn || _item.subItems) ? 'float-toolbar-item' : 'float-toolbar-plain-item'))}\r\n                    ${_subItem ? \" float-toolbar-subitem\" : \"\"}`;\r\n        }\r\n    }\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./floatToolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./floatToolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./floatToolbar.vue?vue&type=template&id=4002af3a&\"\nimport script from \"./floatToolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./floatToolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./floatToolbar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import JSZip from \"jszip\";\r\n\r\n// 常量定义\r\nconst constants = {\r\n    CLASSIC_ATTACHMENT_PATH: \"attachments/\",\r\n    CLASSIC_CONTENT_FILE: \"content.xml\",\r\n    CLASSIC_META_FILE: \"meta.xml\",\r\n    CLASSIC_COMMENTS_FILE: \"comments.xml\",\r\n    CLASSIC_MANIFEST_FILE: \"META-INF/manifest.xml\",\r\n    ZEN_RESOURCE_PATH: \"resources/\",\r\n    ZEN_MANIFEST_FILE: \"manifest.json\",\r\n    ZEN_META_FILE: \"metadata.json\",\r\n    ZEN_CONTENT_FILE: \"content.json\",\r\n    KEY_FILE_ENTRIES: \"file-entries\"\r\n};\r\n\r\n// XMind文件对象\r\nclass XMindFile {\r\n    constructor () {\r\n        this.attachments = {};\r\n        this.comments = {};\r\n        this.sheets = {};\r\n        this.meta = {};\r\n    }\r\n\r\n    setAttachment (_path, _data) {\r\n        this.attachments[_path] = _data;\r\n    }\r\n\r\n    deleteAttachment (_path) {\r\n        if (this.attachments[_path]) {\r\n            delete this.attachments[_path];\r\n        }\r\n    }\r\n\r\n    * attachmentInterator() {\r\n        const attachments = this.attachments;\r\n        if (attachments) {\r\n            for (const path in attachments) {\r\n                yield { path, value: attachments[path] };\r\n            }\r\n        }\r\n    }\r\n\r\n    setComment (_id, _objectID, _content, _author, _time) {\r\n        this.comments[_id] = { object_id: _objectID, content: _content, author: _author, time: _time };\r\n    }\r\n\r\n    deleteComment (_id) {\r\n        if (this.comments[_id]) {\r\n            delete this.comments[_id];\r\n        }\r\n    }\r\n\r\n    setSheet (_id, _sheet) {\r\n        this.sheets[_id] = _sheet;\r\n    }\r\n\r\n    deleteSheet (_id) {\r\n        if (this.sheets[_id]) {\r\n            delete this.sheets[_id];\r\n        }\r\n    }\r\n\r\n    setMeta (_obj) {\r\n        Object.assign(this.meta, _obj);\r\n    }\r\n}\r\n\r\n// 加载zen模式下的附件文件\r\nasync function loadZenAttachments(_xmindFile, _zip) {\r\n    const manifestEntry = _zip.file(constants.ZEN_MANIFEST_FILE);\r\n    if (manifestEntry) {\r\n        const manifestJSON = await manifestEntry.async(\"text\");\r\n        const manifestDoc = JSON.parse(manifestJSON);\r\n        const manifestList = manifestDoc[constants.KEY_FILE_ENTRIES];\r\n        for (let item in manifestList) {\r\n            if (item.indexOf(\"/\") > 0) {\r\n                const attachmentFile = _zip.file(item);\r\n                if (attachmentFile) {\r\n                    const data = await attachmentFile.async(\"blob\");\r\n                    _xmindFile.setAttachment(item, data);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// 加载ZEN模式下的内容\r\nasync function loadZenContent(_xmindFile, _zip) {\r\n    const contentEntry = _zip.file(constants.ZEN_CONTENT_FILE);\r\n    if (contentEntry) {\r\n        const contentJSON = await contentEntry.async(\"text\");\r\n        const contentDoc = JSON.parse(contentJSON);\r\n        for (let item of contentDoc) {\r\n            _xmindFile.setSheet(item.id, item);\r\n        }\r\n    }\r\n}\r\n\r\n// 加载Zen模式下的元数据\r\nasync function loadZenMeta(_xmindFile, _zip) {\r\n    const metaEntry = _zip.file(constants.ZEN_META_FILE);\r\n    if (metaEntry) {\r\n        const metaJSON = await metaEntry.async(\"text\");\r\n        const metaDoc = JSON.parse(metaJSON);\r\n        delete metaDoc[\"activeSheetId\"];\r\n        _xmindFile.setMeta(metaDoc);\r\n    }\r\n}\r\n\r\n// 加载ZEN版本的xmind文件\r\nasync function loadZenEdition(_zip) {\r\n    let xmindFile = new XMindFile();\r\n    try {\r\n        await loadZenAttachments(xmindFile, _zip);\r\n        await loadZenContent(xmindFile, _zip);\r\n        await loadZenMeta(xmindFile, _zip);\r\n    } catch (error) {\r\n        console.error(error);\r\n        xmindFile = undefined;\r\n    }\r\n    return xmindFile;\r\n}\r\n\r\n// 将XML标签的属性转为对象内的成员\r\nfunction xmlAttr2ObjectMember(_obj, _node, _maps) {\r\n    const attachmentsPrefix = `xap:${constants.CLASSIC_ATTACHMENT_PATH}`;\r\n    const attachmentRegexpStr = `^xap:${constants.CLASSIC_ATTACHMENT_PATH}`;\r\n    const zenAttachmentPrefix = `xap:${constants.ZEN_RESOURCE_PATH}`;\r\n    for (let item in _maps) {\r\n        let attr = _maps[item];\r\n        let fn = undefined;\r\n        if (attr.fn) {\r\n            fn = attr.fn;\r\n            attr = attr.n;\r\n        }\r\n        if (_node.hasAttribute(attr)) {\r\n            let value = String(_node.getAttribute(attr));\r\n            if (fn) {\r\n                value = fn(value);\r\n            }\r\n            if ((attr.indexOf(\":\") > 0) && (typeof value === \"string\") && (value.startsWith(attachmentsPrefix))) {\r\n                value = value.replace(new RegExp(attachmentRegexpStr), zenAttachmentPrefix);\r\n            }\r\n            _obj[item] = value;\r\n        }\r\n    }\r\n    return _obj;\r\n}\r\n\r\n// 将XML标签的成员转为对象的成员\r\nfunction xmlChildren2ObjectMember(_obj, _node, _maps, _undefinedParser) {\r\n    const children = _node.childNodes;\r\n    for (let item of children) {\r\n        const tagName = item.tagName;\r\n        const parserFn = _maps[tagName];\r\n        if (parserFn) {\r\n            if (typeof parserFn === \"string\") {\r\n                _obj[parserFn] = item.textContent;\r\n            } else {\r\n                parserFn(_obj, item);\r\n            }\r\n        } else if (_undefinedParser) {\r\n            _undefinedParser(_obj, item);\r\n        }\r\n    }\r\n    return _obj;\r\n}\r\n\r\n// 加载传统模式的附件内容\r\nasync function loadClassicAttachments(_xmindFile, _zip) {\r\n    const manifestEntry = _zip.file(constants.CLASSIC_MANIFEST_FILE);\r\n    const attachmentRegexpStr = `^${constants.CLASSIC_ATTACHMENT_PATH}`;\r\n    if (manifestEntry) {\r\n        const manifestXML = await manifestEntry.async(\"text\");\r\n        const parser = new DOMParser();\r\n        const manifestDoc = parser.parseFromString(manifestXML, \"text/xml\");\r\n        const manifestList = manifestDoc.documentElement.childNodes;\r\n        for (let item of manifestList) {\r\n            let path = item.getAttribute(\"full-path\").trim();\r\n            if ((!path.endsWith(\"/\")) && path.startsWith(constants.CLASSIC_ATTACHMENT_PATH)) {\r\n                const attachmentFile = _zip.file(path);\r\n                if (attachmentFile) {\r\n                    path = path.replace(new RegExp(attachmentRegexpStr), constants.ZEN_RESOURCE_PATH);\r\n                    const data = await attachmentFile.async(\"blob\");\r\n                    _xmindFile.setAttachment(path, data);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// 加载传统模式的批注内容\r\nasync function loadClassicComments(_xmindFile, _zip) {\r\n    const CommentsEntry = _zip.file(constants.CLASSIC_COMMENTS_FILE);\r\n    if (CommentsEntry) {\r\n        const commentsXML = await CommentsEntry.async(\"text\");\r\n        const parser = new DOMParser();\r\n        const commentsDoc = parser.parseFromString(commentsXML, \"text/xml\");\r\n        const commentsList = commentsDoc.documentElement.childNodes;\r\n        for (let item of commentsList) {\r\n            const id = item.getAttribute(\"id\").trim();\r\n            const objectID = item.getAttribute(\"object-id\").trim();\r\n            const author = item.getAttribute(\"author\").trim();\r\n            const time = parseInt(item.getAttribute(\"time\").trim());\r\n            let content = \"\";\r\n            for (let contentItem of item.childNodes) {\r\n                if (contentItem.tagName === \"content\") {\r\n                    content += contentItem.textContent;\r\n                }\r\n            }\r\n            _xmindFile.setComment(id, objectID, content, author, time);\r\n        }\r\n    }\r\n}\r\n\r\n// 传统模式的子主题解析映射表\r\nconst classicChildTopicParserMap = {\r\n    \"topic\": (_list, _child) => {\r\n        _list.push(classicTopicParser(_child));\r\n    }\r\n};\r\n\r\n// 传统模式的子主题集的解析映射表\r\nconst classicChildrenTopicsParserMap = {\r\n    \"topics\": (_children, _itemNode) => {\r\n        const type = _itemNode.getAttribute(\"type\");\r\n        if (!_children[type]) {\r\n            _children[type] = [];\r\n        }\r\n        xmlChildren2ObjectMember(_children[type], _itemNode, classicChildTopicParserMap);\r\n    }\r\n}\r\n\r\n// 传统模式的主题内项的解析映射表\r\nconst classicTopicParserMap = {\r\n    \"title\": \"title\",\r\n    \"children\": (_topic, _node) => {\r\n        _topic.children = xmlChildren2ObjectMember({}, _node, classicChildrenTopicsParserMap);\r\n    },\r\n    \"xhtml:img\": (_topic, _node) => {\r\n        _topic.image = xmlAttr2ObjectMember({}, _node, {\r\n            src: \"xhtml:src\",\r\n            width: { n: \"svg:width\", fn: parseInt },\r\n            height: { n: \"svg:height\", fn: parseInt }\r\n        });\r\n    },\r\n    \"labels\": (_topic, _node) => {\r\n        _topic.labels = xmlChildren2ObjectMember([], _node, {\r\n            \"label\": (_labels, _item) => {\r\n                _labels.push(String(_item.textContent));\r\n            }\r\n        })\r\n    },\r\n    \"notes\": (_topic, _node) => {\r\n        _topic.notes = xmlChildren2ObjectMember({}, _node, {}, (_notes, _nodeItem) => {\r\n            if (_notes.plain && _notes.plain.content) {\r\n                _notes.plain.content += `\\r\\n${_nodeItem.textContent}`;\r\n            } else {\r\n                _notes.plain = { content: _nodeItem.textContent };\r\n            }\r\n        });\r\n    },\r\n    \"marker-refs\": (_topic, _node) => {\r\n        _topic.markers = xmlChildren2ObjectMember([], _node, {}, (_markers, _marker) => {\r\n            _markers.push(xmlAttr2ObjectMember({}, _marker, { markerId: \"marker-id\" }));\r\n        });\r\n    },\r\n    \"position\": (_topic, _node) => {\r\n        _topic.position = xmlAttr2ObjectMember({}, _node, {\r\n            \"x\": { n: \"svg:x\", fn: parseInt},\r\n            \"y\": { n: \"svg:y\", fn: parseInt}\r\n        })\r\n    },\r\n    \"extensions\": (_topic, _node) => {\r\n        _topic.extensions = xmlChildren2ObjectMember([], _node, {\r\n            \"extension\": (_extensions, _itemNode) => {\r\n                let extension = xmlAttr2ObjectMember({}, _itemNode, {\r\n                    provider: \"provider\"\r\n                });\r\n                extension.content = [];\r\n                xmlChildren2ObjectMember(null, _itemNode, {\r\n                    \"content\": (_nouse, _contentNode) => {\r\n                        xmlChildren2ObjectMember(extension.content, _contentNode, {}, (_list, _childNode) => {\r\n                            _list.push({\r\n                                name: _childNode.tagName,\r\n                                content: _childNode.textContent\r\n                            })\r\n                        });\r\n                    }\r\n                })\r\n                _extensions.push(extension);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n// 传统模式的主题解析处理\r\nfunction classicTopicParser(_node) {\r\n    let topic = xmlAttr2ObjectMember({}, _node, {\r\n        id: \"id\",\r\n        href: \"xlink:href\",\r\n        structureClass: \"structure-class\"\r\n    });\r\n    xmlChildren2ObjectMember(topic, _node, classicTopicParserMap);\r\n    if (!topic.children) {\r\n        topic.children = {};\r\n    }\r\n    return topic;\r\n}\r\n\r\n// 传统模式的关系控制点的解析映射表\r\nconst classicRelationCtrlPointParserMap = {\r\n    \"control-point\": (_cpSet, _node) => {\r\n        const index = String(_node.getAttribute(\"index\"));\r\n        _cpSet[index] = xmlAttr2ObjectMember({}, _node, {\r\n            amount: { n: \"amount\", fn: parseFloat },\r\n            angle: { n: \"angle\", fn: parseFloat }\r\n        });\r\n    }\r\n}\r\n\r\n// 传统模式的关系项的解析映射表\r\nconst classicRelationshipParserMap = {\r\n    \"title\": \"title\",\r\n    \"control-points\": (_rel, _node) => {\r\n        _rel.controlPoints = xmlChildren2ObjectMember({}, _node, classicRelationCtrlPointParserMap);\r\n    }\r\n}\r\n\r\n// 传统模式的关系项的解析处理函数\r\nfunction classicRelationshipParser(_relList, _relNode) {\r\n    let _relationship = xmlAttr2ObjectMember({}, _relNode, {\r\n        id: \"id\",\r\n        end1Id: \"end1\",\r\n        end2Id: \"end2\"\r\n    });\r\n    xmlChildren2ObjectMember(_relationship, _relNode, classicRelationshipParserMap);\r\n    _relList.push(_relationship);\r\n}\r\n\r\n// 传统模式的工作表内项的解析映射表\r\nconst classicSheetParserMap = {\r\n    \"topic\": (_sheet, _node) => {\r\n        _sheet.rootTopic = classicTopicParser(_node);\r\n    },\r\n    \"title\": \"title\",\r\n    \"relationships\": (_sheet, _node) => {\r\n        _sheet.relationships = xmlChildren2ObjectMember([], _node, {\r\n            \"relationship\": classicRelationshipParser\r\n        });\r\n    }\r\n};\r\n\r\n// 加载传统模式的工作表\r\nfunction loadClassicSheetItem(_xmindFile, _zip, _node) {\r\n    let sheet = xmlAttr2ObjectMember({}, _node, {\r\n        id: \"id\"\r\n    });\r\n    xmlChildren2ObjectMember(sheet, _node, classicSheetParserMap);\r\n    return sheet;\r\n}\r\n\r\n// 加载传统模式的工作表集合\r\nasync function loadClassicSheets(_xmindFile, _zip) {\r\n    const sheetsEntry = _zip.file(constants.CLASSIC_CONTENT_FILE);\r\n    if (sheetsEntry) {\r\n        const sheetsXML = await sheetsEntry.async(\"text\");\r\n        const parser = new DOMParser();\r\n        const sheetsDoc = parser.parseFromString(sheetsXML, \"text/xml\");\r\n        xmlChildren2ObjectMember(null, sheetsDoc.documentElement, {\r\n            \"sheet\": (_null, _sheetNode) => {\r\n                const sheet = loadClassicSheetItem(_xmindFile, _zip, _sheetNode);\r\n                _xmindFile.setSheet(sheet.id, sheet);\r\n            } \r\n        })\r\n    }\r\n}\r\n\r\n// 加载传统模式的元数据\r\nasync function loadClassicMetadata(_xmindFile, _zip) {\r\n    const metaEntry = _zip.file(constants.CLASSIC_META_FILE);\r\n    if (metaEntry) {\r\n        const metaXML = await metaEntry.async(\"text\");\r\n        const parser = new DOMParser();\r\n        const metaDoc = parser.parseFromString(metaXML, \"text/xml\");\r\n        let meta = xmlChildren2ObjectMember({}, metaDoc.documentElement, {\r\n            \"Creator\": (_meta, _node) => {\r\n                _meta.creator = xmlChildren2ObjectMember({}, _node, {\r\n                    \"Name\": \"name\",\r\n                    \"Version\": \"version\"\r\n                });\r\n            } \r\n        });\r\n\r\n        _xmindFile.setMeta(meta);\r\n    }\r\n}\r\n\r\n// 加载传统模式的文件版本\r\nasync function loadClassicEdition(_zip) {\r\n    let xmindFile = new XMindFile();\r\n    try {\r\n        await loadClassicAttachments(xmindFile, _zip);\r\n        await loadClassicComments(xmindFile, _zip);\r\n        await loadClassicSheets(xmindFile, _zip);\r\n        await loadClassicMetadata(xmindFile, _zip);\r\n\r\n    } catch (error) {\r\n        console.error(error);\r\n        xmindFile = undefined;\r\n    }\r\n    return xmindFile;\r\n}\r\n\r\n// 从源数据加载xmind文件内容\r\nexport async function load(_source) {\r\n    let xmindFile = undefined;\r\n    try {\r\n        let zipFunc = new JSZip();\r\n        let zip = await zipFunc.loadAsync(_source, { base64: typeof _source === \"string\" });\r\n        if (zip.file(constants.ZEN_CONTENT_FILE)) {\r\n            xmindFile = await loadZenEdition(zip);\r\n        } else if (zip.file(constants.CLASSIC_CONTENT_FILE)) {\r\n            xmindFile = await loadClassicEdition(zip);\r\n        }\r\n    } catch (error) {\r\n        console.error(error);\r\n        xmindFile = undefined;\r\n    }\r\n\r\n    return xmindFile;\r\n}\r\n\r\n// 将xmind对象保存到一个文件中去\r\nexport async function save(_xmindFile) {\r\n    if (_xmindFile instanceof XMindFile) {\r\n        const zip = new JSZip();\r\n        const manifest = {};\r\n        const entries = (manifest[constants.KEY_FILE_ENTRIES] = {});\r\n        // 保存附件\r\n        const attachments = _xmindFile.attachments;\r\n        if (attachments) {\r\n            for (let fileName in attachments) {\r\n                const data = attachments[fileName];\r\n                if (data) {\r\n                    zip.file(fileName.replace(constants.CLASSIC_ATTACHMENT_PATH, constants.ZEN_RESOURCE_PATH), data);\r\n                    entries[fileName] = {};\r\n                }\r\n            }\r\n        }\r\n        // 保存元数据\r\n        zip.file(constants.ZEN_META_FILE, JSON.stringify(_xmindFile.meta));\r\n        entries[constants.ZEN_META_FILE] = {};\r\n        const content = [];\r\n        const sheets = _xmindFile.sheets;\r\n        for (let sheetId in sheets) {\r\n            content.push(sheets[sheetId]);\r\n        }\r\n        // 保存内容\r\n        zip.file(constants.ZEN_CONTENT_FILE, JSON.stringify(content));\r\n        entries[constants.ZEN_CONTENT_FILE] = {};\r\n        // 保存manifest\r\n        zip.file(constants.ZEN_MANIFEST_FILE, JSON.stringify(manifest));\r\n        return await zip.generateAsync({type:\"blob\"});\r\n    } else {\r\n        return undefined;\r\n    }\r\n}\r\n\r\n// 创建一个空的对象\r\nexport function createEmpty() {\r\n    return new XMindFile();\r\n}\r\n","// 常量信息\r\nexport const constants = Object.freeze({\r\n    NAME: \"mind.svg.js\",\r\n    VERSION: \"0.1.0.202006\",\r\n    DEF_TOPIC_TYPE: \"attached\"\r\n});\r\n\r\n// 转换根据映射表来转换\r\nfunction convertDataByMap(_target, _source, _map, _args) {\r\n    const parserArgs = (_args instanceof Array) ? [_target, undefined, ..._args] : [_target, undefined];\r\n    for (let item in _map) {\r\n        const itemParser = _map[item];\r\n        const value = _source[item];\r\n        if (value !== undefined) {\r\n            if (typeof itemParser === \"string\") {\r\n                _target[itemParser] = value;\r\n            } else if (typeof itemParser === \"function\") {\r\n                parserArgs[1] = value;\r\n                itemParser.apply(_source, parserArgs);\r\n            } else {\r\n                _target[item] = value;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n// 将XMind的HTML格式化备注转为纯文本备注\r\nfunction xmindHtmlNotes2Plain(_html, _tag) {\r\n    let ret;\r\n    if (_tag === \"text\") {\r\n        ret = _html + \"\\r\\n\";\r\n    } else if (_html) {\r\n        ret = \"\";\r\n        for (let idx in _html) {\r\n            ret += xmindHtmlNotes2Plain(_html[idx], idx);\r\n        }\r\n    } else {\r\n        ret = \"\";\r\n    }\r\n    return ret;\r\n}\r\n\r\n// XMIND主题附属数据解析映射表\r\nconst xmindTopicDataMap = {\r\n    labels: null,\r\n    href: null,\r\n    image: null,\r\n    markers: (_storage, _value) => {\r\n        const markerList = (_storage.markers = {});\r\n        for (let markerIdx in _value) {\r\n            const markerItem = _value[markerIdx];\r\n            const {0:markerType, 1:markerValue} = String(markerItem.markerId).split(\"-\");\r\n            markerList[markerType] = markerValue;\r\n        }\r\n    },\r\n    notes: (_storage, _value) => {\r\n        let data = ((_value.plain && _value.plain.content) ? _value.plain.content : \"\") \r\n                    + xmindHtmlNotes2Plain(_value.html, null);\r\n        _storage.notes = data;\r\n    }\r\n}\r\n\r\n// 转换XMind的主题\r\nfunction fromXMindTopic(_xmindFile, _topic, _extType) {\r\n    let _tagret = {\r\n        id: _topic.id,\r\n        title: _topic.title,\r\n        direction: _topic.direction,\r\n        children: [],\r\n    };\r\n    // 转换主题附属数据\r\n    convertDataByMap(_tagret, _topic, xmindTopicDataMap, [_xmindFile]);\r\n    // 等级主题的扩展类型\r\n    if (_extType !== undefined) {\r\n        _tagret.topicType = _extType;\r\n    }\r\n    // 转换子主题\r\n    for (let childrenType in _topic.children) {\r\n        const children = _topic.children[childrenType];\r\n        for (let childrenIdx in children) {\r\n            _tagret.children.push(fromXMindTopic(_xmindFile, children[childrenIdx], childrenType));\r\n        }\r\n    }\r\n    return _tagret;\r\n}\r\n\r\n// 从XMind对象加载MIND信息\r\nexport function fromXMind(_xmindFile) {\r\n    try {\r\n        let sheets = [];\r\n        const source = _xmindFile.sheets;\r\n        for (let sheetId in source) {\r\n            const sheet = source[sheetId];\r\n            let targetSheet = {\r\n                id: sheet.id,\r\n                title: sheet.title,\r\n                relationships: sheet.relationships || [],\r\n                topic: fromXMindTopic(_xmindFile, sheet.rootTopic)\r\n            };\r\n            sheets.push(targetSheet);\r\n        }\r\n        return sheets;\r\n    } catch (error) {\r\n        console.error(error);\r\n        return undefined;\r\n    }\r\n}\r\n\r\n// XMIND主题附属数据逆转换映射表\r\nconst toXMindTopicDataMap = {\r\n    labels: null,\r\n    href: null,\r\n    image: null,\r\n    markers: (_topic, _value) => {\r\n        const markerList = (_topic.markers = []);\r\n        for (const markerType in _value) {\r\n            const markerValue = _value[markerType];\r\n            markerList.push({markerId: `${markerType}-${markerValue}`});\r\n        }\r\n    },\r\n    notes: (_topic, _value) => {\r\n        _topic.notes = {\r\n            plain: {\r\n                content: _value\r\n            }\r\n        };\r\n    }\r\n}\r\n\r\n// 转换为XMind主题格式\r\nfunction toXMindTopic(_topic, _xmindFile) {\r\n    let target = {\r\n        id: _topic.id,\r\n        title: _topic.title,\r\n        direction: _topic.direction,\r\n        children: {}\r\n    };\r\n    // 转换主题的附属数据\r\n    convertDataByMap(target, _topic, toXMindTopicDataMap, [_xmindFile]);\r\n    // 添加子主题\r\n    const childrenSet = target.children;\r\n    if (_topic.children) {\r\n        const children = _topic.children;\r\n        for (let childIdx in children) {\r\n            const childTopic = children[childIdx];\r\n            const childTarget = toXMindTopic(childTopic, _xmindFile);\r\n            const childType = (childTopic.topicType || constants.DEF_TOPIC_TYPE);\r\n            (childrenSet[childType] || (childrenSet[childType] = [])).push(childTarget);\r\n        }\r\n    }\r\n    return target;\r\n}\r\n\r\nexport function toXMind(_mind, _xmindFile) {\r\n    try {\r\n        // 添加画布\r\n        for (let idxSheet in _mind) {\r\n            const sourceSheet = _mind[idxSheet];\r\n            let sheet = {\r\n                id: sourceSheet.id,\r\n                title: sourceSheet.title,\r\n                relationships: /* sourceSheet.relationships || */ [],\r\n                rootTopic: toXMindTopic(sourceSheet.topic, _xmindFile)\r\n            };\r\n            _xmindFile.setSheet(sheet.id, sheet);\r\n        }\r\n        // 设置元数据\r\n        _xmindFile.setMeta({creator:{\r\n            name: constants.NAME,\r\n            version: constants.VERSION\r\n        }});\r\n        return _xmindFile;\r\n    } catch (error) {\r\n        console.error(error);\r\n        return undefined;\r\n    }\r\n}\r\n\r\nexport function * getTopicIterator(_topicList, _level) {\r\n    _level || (_level = 0);\r\n    for (const idx in _topicList) {\r\n        const topic = _topicList[idx];\r\n        yield {level: _level, topic};\r\n        if (topic.children) {\r\n            for (const childTopicDesc of getTopicIterator(topic.children, _level + 1)) {\r\n                yield childTopicDesc;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function * getTopicIteratorFromMinds(_minds) {\r\n    for (const idxSheet in _minds) {\r\n        for (const topicDesc of getTopicIterator([_minds[idxSheet].topic])) {\r\n            yield topicDesc;\r\n        }\r\n    }\r\n}\r\n","import * as hostAdapter from \"./hostAdapter\";\r\n\r\nexport default function () {\r\n    return [{\r\n        caption: 'File', \r\n        subItems: hostAdapter.noSpecialHost() ? [{\r\n            caption: 'New&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+Alt+N',\r\n            fn: this.onNewWorkBook\r\n        }, {\r\n            separate: true\r\n        }, {\r\n            caption: 'Open&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+O',\r\n            fn: this.onOpen\r\n        }, {\r\n            caption: 'Save&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+S',\r\n            fn: this.onSave\r\n        }, {\r\n            separate: true\r\n        }, {\r\n            caption: 'Export as Markdown',\r\n            fn: this.onExportMarkdown\r\n        }] : [{\r\n            caption: 'New&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+Alt+N',\r\n            fn: this.onNewWorkBook\r\n        }, {\r\n            separate: true\r\n        }, {\r\n            caption: 'Open&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+O',\r\n            fn: this.onOpen\r\n        }, {\r\n            caption: 'Save&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ctrl+S',\r\n            fn: this.onSave\r\n        }, {\r\n            caption: 'Save As...',\r\n            fn: this.onSaveAs\r\n        }, {\r\n            separate: true\r\n        }, {\r\n            caption: 'Export as Markdown',\r\n            fn: this.onExportMarkdown\r\n        }]\r\n    }, {\r\n        caption: 'Pages',\r\n        subItems: [{\r\n            caption: 'Create a Empty Page',\r\n            fn: this.onNewPage\r\n        }, {\r\n            caption: 'Rename Current Page',\r\n            fn: this.onRenamePage\r\n        }, {\r\n            caption: 'Delete Current Page',\r\n            fn: this.onDeletePage\r\n        }]\r\n    }, {\r\n        separate: true\r\n    }, {\r\n        svg: {\r\n            width: 17,\r\n            height: 17,\r\n            html: '<path d=\"M2 13H15V4H5M5 3L3.5 4L5 5V3L3.5 4\" />'\r\n        },\r\n        caption: 'Undo',\r\n        fn: this.onUndo,\r\n    }, {\r\n        svg: {\r\n            width: 17,\r\n            height: 17,\r\n            html: '<path d=\"M15 13H2V4H13M12 3L13.5 4L12 5V3L13.5 4\" />'\r\n        },\r\n        caption: 'Redo',\r\n        fn: this.onRedo\r\n    }, {\r\n        svg: {\r\n            width: 17,\r\n            height: 17,\r\n            html: '<path d=\"M13 6V2H3V15H10M13 10A3 3 0 1 1 7 10A3 3 0 1 1 13 10M12 12L15 15M5 5H11\" />'\r\n        },\r\n        caption: 'Search',\r\n        fn: this.onStartSearch\r\n    }, {\r\n        separate: true\r\n    }, {\r\n        svg: {\r\n            width: 26,\r\n            height: 17,\r\n            html: '<path d=\"M2 3H17V7H2V3H4M2.5 12H7.5M5 9.5V14.5M10 7V12H13M14 10H25V14H13V10H17\" />'\r\n        },\r\n        caption: 'Add Child',\r\n        fn: () => this.execCmd('addSubTopic')\r\n    }, {\r\n        svg: {\r\n            width: 26,\r\n            height: 17,\r\n            html: '<path d=\"M1 8H7M4 5V11M10 5H25V11H10V5H17M10 8H25\" />'\r\n        },\r\n        caption: 'Add Sibling',\r\n        notForRoot: true,\r\n        fn: () => this.execCmd('addSiblingTopic')\r\n    }, {\r\n        svg: {\r\n            width: 26,\r\n            height: 17,\r\n            html: '<path d=\"M18 8V5H3V10H14M15 8L23 13M23 8L15 13\" />'\r\n        },\r\n        caption: 'Remove',\r\n        notForRoot: true,\r\n        fn: () => this.execCmd('deleteTopic')\r\n    }, {\r\n        caption: 'Properties:'\r\n    }, {\r\n        svg: {\r\n            width: 17,\r\n            height: 17,\r\n            viewBox: \"0 0 22 22\",\r\n            html: '<path d=\"M3 10.5L7 5H19V17H7L3 10.5M6 10.5A2 2 0 1 1 10 10.5A2 2 0 1 1 6 10.5\" />'\r\n        },\r\n        caption: 'Lables',\r\n        fn: () => this.invokePropertyEditor('labels')\r\n    }, {\r\n        svg: {\r\n            width: 17,\r\n            height: 17,\r\n            viewBox: \"0 0 22 22\",\r\n            html: '<path d=\"M3 19V4H13V13H3M13 8H19V16H10V13\" />'\r\n        },\r\n        caption: 'Markers',\r\n        fn: () => this.invokePropertyEditor('markers')\r\n    }, {\r\n        svg: {\r\n            width: 17,\r\n            height: 17,\r\n            viewBox: \"0 0 22 22\",\r\n            html: '<path d=\"M3 1H13L18 6V20H3V1M13 1V6H18M6 4H10M6 7H10M6 10H15M6 13H15M6 16H13\" />'\r\n        },\r\n        caption: 'Notes',\r\n        fn: () => this.invokePropertyEditor('notes')\r\n    }, {\r\n        svg: {\r\n            width: 17,\r\n            height: 17,\r\n            viewBox: \"0 0 22 22\",\r\n            html: '<path d=\"M3 5H18V17H3V5M3 16L7 10L10 13L13 7L18 13\" />'\r\n        },\r\n        caption: 'Image',\r\n        fn: () => this.$refs.mindView.invokeImagePicker()\r\n    }, {\r\n        svg: {\r\n            width: 17,\r\n            height: 17,\r\n            viewBox: \"0 0 22 22\",\r\n            html: '<path d=\"M9 7L11 5A2 2 0 0 1 15 9L13 11M7 9L5 11A2 2 0 0 0 9 15L11 13M7 13L13 7\" />'\r\n        },\r\n        caption: 'link or attachment',\r\n        fn: () => this.$refs.mindView.invokePropertyEditor('href')\r\n    }, {\r\n        separate: true\r\n    }, {\r\n        caption: 'Fold',\r\n        subItems: [{\r\n            caption: 'No fold',\r\n            fn: () => this.$refs.mindView.mind.fold(0)\r\n        }, {\r\n            separate: true\r\n        }, {\r\n            caption: 'Fold to level 1',\r\n            fn: () => this.$refs.mindView.mind.fold(1)\r\n        }, {\r\n            caption: 'Fold to level 2',\r\n            fn: () => this.$refs.mindView.mind.fold(2)\r\n        }, {\r\n            caption: 'Fold to level 3',\r\n            fn: () => this.$refs.mindView.mind.fold(3)\r\n        }]\r\n    }/*, {\r\n        caption: 'Theme',\r\n        subItems: [{\r\n\r\n        }]\r\n    }*/];\r\n}","<template>\n    <div class=\"main\">\n        <mind-svg-view ref=\"mindView\" view-class=\"mind-view-class\" \n            :mind-config=\"{draggable: true}\" attachment-path=\"resources\"\n            :show-edit-tools=\"!showMenuContent\"\n            @focus-topic-changed=\"onFocusTopicChanged\"\n            @blur-float-panel=\"onBlurFloatPanel\"\n            @history-changed=\"onHistoryChanged\"\n            :key-action-map=\"{\n                    'ctrl+alt+n': onNewWorkBook, \n                    'ctrl+o': onOpen,\n                    'ctrl+s': onSave,\n                    'ctrl+down': 'addSubTopic', \n                    'ctrl+right': 'addSiblingTopic',\n                    'up': 'selectParent',\n                    'down': 'selectChild',\n                    'left': 'selectPreviousSibling',\n                    'right': 'selectNextSibling',\n                    'enter': 'editTopic',\n                    'delete': 'deleteTopic',\n                    'ctrl+z': onUndo,\n                    'ctrl+y': onRedo,\n                    'f3': onStartSearch\n            }\" />\n        <floatToolbar ref=\"toolbar\" @handler-click=\"showMenuContent = !showMenuContent\" :show-content=\"showMenuContent\" \n            :items=\"menuContent\">\n            <div class=\"mind-input-panel\" v-if=\"requestInput\">\n                <span>{{_T(requestInput.caption)}}</span>\n                <input :placeholder=\"_T(requestInput.tip)\" v-model=\"requestInput.value\" />\n                <button class=\"mind-input-button\" @click=\"onInputConfirm\">{{_T(\"Confirm\")}}</button>\n                <button class=\"mind-input-button\" @click=\"onInputCancel\">{{_T(\"Cancel\")}}</button>\n            </div>\n            <div class=\"mind-input-panel\" v-if=\"requestSearch\">\n                <span>{{_T('search:')}}</span>\n                <input :placeholder=\"_T('Input search information')\" v-model=\"requestSearch.value\" @input=\"onSearchInputChange\" />\n                <button class=\"mind-input-button\" @click=\"onSearchNext\">{{_T(\"Next\")}}</button>\n                <button class=\"mind-input-button\" @click=\"onSearchPrev\">{{_T(\"Prev\")}}</button>\n                <button class=\"mind-input-button\" @click=\"onSearchCancel\">{{_T(\"Cancel\")}}</button>\n            </div>\n        </floatToolbar>\n    </div>\n</template>\n\n<style>\n    .main {\n        font-family: Avenir, Helvetica, Arial, sans-serif;\n        -webkit-font-smoothing: antialiased;\n        -moz-osx-font-smoothing: grayscale;\n        text-align: center;\n        color: #2c3e50;\n        margin: 0px;\n        padding: 0px;\n        position: absolute;\n        top: 0px;\n        bottom: 0px;\n        left: 0px;\n        right: 0px;\n        background-color: #fff;\n        -webkit-touch-callout: none; /* iOS Safari */\n        -webkit-user-select: none; /* Chrome/Safari/Opera */\n        -khtml-user-select: none; /* Konqueror */\n        -moz-user-select: none; /* Firefox */\n        -ms-user-select: none; /* Internet Explorer/Edge */\n        user-select: none; /* Non-prefixed version, currently not supported by any browser */\n    }\n\n    .mind-view-class {\n        position: absolute !important;\n        left: 0px;\n        right: 0px;\n        top: 0px;\n        bottom: 0px;\n        border: 0px;\n    }\n\n    .mind-input-panel {\n        position: absolute;\n        padding: 6px;\n        border: 0px;\n        margin: 6px 0px 0px 0px;\n        background-color: rgba(255, 255, 255, 0.9);\n        border-radius: 6px;\n        box-shadow: 0px 0px 6px rgba(128, 128, 128, 0.6);\n        top: 100%;\n        left: 0px;\n        display: flex;\n        flex-direction: row;\n        flex-wrap: nowrap;\n        align-items: center;\n    }\n\n    .mind-input-panel input {\n        outline: none;\n        font-size: 13px;\n    }\n\n    .mind-input-panel span {\n        padding: 0px 6px 0px 0px;\n    }\n\n    .mind-input-button {\n        border: 1px solid #ccc;\n        border-radius: 3px;\n        background: linear-gradient(to top, rgba(226, 226, 226, 0.5) 26%,rgba(246, 246, 246, 0.5) 90%,rgba(255, 255, 255, 0.9) 100%);\n        color: #333;\n        outline: none;\n        font-size: 13px;\n        margin: 0px 0px 0px 3px;\n    }\n\n    .mind-input-button:hover {\n        border-color: #09f;\n        background: linear-gradient(to top, rgba(0, 117, 255, 0.9) 26%,rgba(0, 157, 255, 0.9) 90%,rgba(0, 170, 255, 0.9) 100%);\n        color: #fff;\n    }\n\n    .mind-input-button:active {\n        border-color: #09f;\n        background: linear-gradient(to top, rgba(0, 170, 255, 0.9) 26%,rgba(0, 157, 255, 0.9) 90%,rgba(0, 117, 255, 0.9) 100%);\n        color: #fff;\n    }\n\n    .mind-input-button-prime {\n        border-color: #09f;\n        color: #09f;\n    }\n\n    .mind-input-button-danger {\n        border-color: #f00;\n        color: #f00;\n    }\n\n    .mind-input-button-danger:hover {\n        border-color: #f00;\n        background: linear-gradient(to top, rgba(217, 0, 0, 0.9) 26%,rgba(255, 0, 0, 0.9) 90%,rgba(255, 117, 117, 0.9) 100%);\n    }\n\n    .mind-input-button-danger:active {\n        border-color: #f00;\n        background: linear-gradient(to top, rgba(255, 117, 117, 0.9) 26%,rgba(255, 0, 0, 0.9) 90%,rgba(217, 0, 0, 0.9) 100%);\n    }\n\n</style>\n\n<script>\n    import { Constants } from \"mind.svg.js\";\n    import { translate } from \"mind.svg.vue\";\n    import floatToolbar from \"./components/floatToolbar\";\n    import * as xmind from \"./js/xmind\";\n    import * as fileFormat from \"./js/fileFormator\";\n    import toolsInfo from \"./js/toolsInfo\";\n    import * as hostAdapter from \"./js/hostAdapter\";\n\n    export default {\n        name: 'App',\n        components: {\n            floatToolbar\n        },\n        data() {\n            return {\n                showMenuContent: true,\n                mind: undefined,\n                currentPage: undefined,\n                menuContent: toolsInfo.call(this),\n                requestInput: undefined,\n                requestSearch: undefined\n            }\n        },\n        methods: {\n            log: console.log,\n            _T: translate.get.bind(translate),\n            pickPageList() {\n                const listMenu = this.menuContent[1].subItems;\n                listMenu.splice(3);\n                const mind = this.mind;\n                if (mind) {\n                    (mind.length > 0) && listMenu.push({separate:true});\n                    for (const index in mind) {\n                        const page = mind[index];\n                        listMenu.push({\n                            pageID: page.id,\n                            caption: page.title,\n                            fn: () => { this.onSwitchPage(index) }\n                        });\n                    }\n                }\n            },\n            markMenuEditable(_topic) {\n                for (let i = this.menuContent.length - 3; i >=7 ; i--) {\n                    if (_topic) {\n                        this.menuContent[i].disable = (false || (this.menuContent[i].notForRoot && (_topic.level <= 0)));\n                    } else {\n                        this.menuContent[i].disable = true;\n                    }\n                }\n                this.$refs.toolbar.$forceUpdate();\n            },\n            saveCurrentPage() {\n                if (this.currentPage) {\n                    this.currentPage.topic = this.$refs.mindView.mind.data;\n                }\n            },\n            loadAttachments(_attachmentIterator) {\n                const attachments = this.$refs.mindView.attachments;\n                attachments.clear();\n                for (const item of _attachmentIterator) {\n                    attachments.item(item.path, item.value);\n                }\n            },\n            cleanAttachments(_xmind) {\n                _xmind || (_xmind = xmind.createEmpty());\n                const attachments = this.$refs.mindView.attachments;\n                for (const {topic} of fileFormat.getTopicIteratorFromMinds(this.mind)) {\n                    if (topic.image && String(topic.image.src).startsWith(Constants.ATTACHMENT_LINK_PREFIX)) {\n                        const attachPath = String(topic.image.src).substr(Constants.ATTACHMENT_LINK_PREFIX.length);\n                        _xmind.setAttachment(attachPath, attachments.item(attachPath).data);\n                    }\n                    if (topic.href && String(topic.href).startsWith(Constants.ATTACHMENT_LINK_PREFIX)) {\n                        const attachPath = String(topic.href).substr(Constants.ATTACHMENT_LINK_PREFIX.length);\n                        _xmind.setAttachment(attachPath, attachments.item(attachPath).data);\n                    }\n                }\n                this.loadAttachments(_xmind.attachmentInterator());\n                return _xmind;\n            },\n            onNewWorkBook() {\n                hostAdapter.newFile();\n            },\n            onNewPage() {\n                this.saveCurrentPage();\n                if (this.mind) {\n                    const id = Date.now().toString(16);\n                    const page = (this.currentPage = {\n                        id,\n                        title: `${translate.get(\"page\")}-${id}`,\n                        topic: {\n                            title: translate.get(\"Center Topic\")\n                        }\n                    });\n                    this.mind.push(page);\n                    this.pickPageList();\n                    this.loadPage(page);\n                }\n            },\n            onRenamePage() {\n                this.closeAllPanel();\n                this.showInputPanel(\"Rename Page:\", \"Input page name\", this.currentPage && this.currentPage.title, (_name) => {\n                    _name = String(_name).trim();\n                    if (_name) {\n                        this.saveCurrentPage();\n                        if (this.currentPage && _name) {\n                            this.currentPage.title = _name;\n                            this.pickPageList();\n                            this.loadPage(this.currentPage);\n                        }\n                    } else {\n                        this.$tip.error(translate.get(\"Can not rename a page as empty title!\"));\n                    }\n                });\n            },\n            async onDeletePage() {\n                const confirm = await this.$tip.confirm(undefined, {\n                    html: `${translate.get(\"The deleted page can not be restored!\")}<br/>${translate.get(\"Are you sure to continue?\")}`\n                });\n                if ((confirm === 0) && this.currentPage && this.mind) {\n                    const title = this.currentPage.title;\n                    let index = this.mind.indexOf(this.currentPage);\n                    if (index >= 0) {\n                        this.mind.splice(index, 1);\n                    }\n                    this.pickPageList();\n                    if (this.mind.length <= 0) {\n                        this.onNewPage();\n                    } else {\n                        (index >= this.mind.length) && (index -= 1);\n                        this.onSwitchPage(index);\n                    }\n                    this.$forceUpdate();\n                    this.$tip.info(`[${title}] ` + translate.get(\"has been deleted!\"));\n                }\n            },\n            async onOpen() {\n                const file = await hostAdapter.openFile();\n                if (file) {\n                    const confirm = await this.$tip.confirm(undefined, {\n                        html: `${translate.get(\"Open a mindmap file will cover the current mindmap if it has not been saved.\")}<br/>${translate.get(\"Are you sure to continue?\")}`\n                    });\n                    if (confirm === 0) {\n                    const xmindfile = await xmind.load(file);\n                    const mind = (this.mind = fileFormat.fromXMind(xmindfile));\n                    this.loadAttachments(xmindfile.attachmentInterator());\n                    this.pickPageList();\n                    this.loadPage(mind[0]);\n                    }\n                }\n            },\n            async onSave() {\n                this.saveCurrentPage();\n                const xmindFile = this.cleanAttachments();\n                fileFormat.toXMind(this.mind, xmindFile);\n                const file = await xmind.save(xmindFile);\n                if (file) {\n                    hostAdapter.saveFile(file);\n                }\n            },\n            async onSaveAs() {\n                this.saveCurrentPage();\n                const xmindFile = this.cleanAttachments();\n                fileFormat.toXMind(this.mind, xmindFile);\n                const file = await xmind.save(xmindFile);\n                if (file) {\n                    hostAdapter.saveFileAs(file);\n                }\n            },\n            async onSaveAsInvokeByHost(_event) {\n                this.saveCurrentPage();\n                const xmindFile = this.cleanAttachments();\n                fileFormat.toXMind(this.mind, xmindFile);\n                const file = await xmind.save(xmindFile);\n                if (file) {\n                    hostAdapter.saveFile(file, {filePath: _event.detail.filePath});\n                }\n            },\n            onExportMarkdown() {\n                const content = [];\n                const attachment = []; \n                const imageTip = translate.get(\"Image of topic\");\n                const linkTip = translate.get(\"Link to reference\");\n                const attachments = this.$refs.mindView.attachments;\n                let attachmentTick = 0;\n                let promise = new Promise(r => r());\n                this.saveCurrentPage();\n                for (const {level, topic} of fileFormat.getTopicIteratorFromMinds(this.mind)) {\n                    content.push(`${\"#\".repeat(level + 1)} ${topic.title}`);\n                    if (topic.notes) {\n                        content.push(String(topic.notes).trim());\n                    }\n                    if (topic.href) {\n                        (!String(topic.href).startsWith(Constants.ATTACHMENT_LINK_PREFIX)) \n                            && content.push(`[${linkTip}](${topic.href})`);\n                    }\n                    if (topic.labels || topic.markers) {\n                        content.push(\"```\");\n                        if (topic.labels instanceof Array) {\n                            content.push(topic.labels.join(\" \"));\n                        }\n                        if (topic.markers) {\n                            for (const markerID in topic.markers) {\n                                const markerValue = topic.markers[markerID];\n                                content.push(`${translate.get(markerID)}: ${translate.get(markerValue)}`);\n                            }\n                        }\n                        content.push(\"```\");\n                    }\n                    if (topic.image) {\n                        if (String(topic.image.src).startsWith(Constants.ATTACHMENT_LINK_PREFIX)) {\n                            const imageID = `image${attachmentTick++}`;\n                            content.push(`![${imageTip}][${imageID}]`);\n                            const attachPath = String(topic.image.src).substr(Constants.ATTACHMENT_LINK_PREFIX.length);\n                            promise = promise.then(() => new Promise(resolve => {\n                                let mime = attachPath.toLowerCase();\n                                mime = mime.endsWith(\".png\") ? \"image/png;\" : (mime.endsWith(\".gif\") ? \"image/gif;\" : (mime.endsWith(\".ico\") ? \"image/x-icon;\" : \"image/jpeg;\"));\n                                const blob = attachments.item(attachPath).data;\n                                const reader = new FileReader();\n                                reader.onload = (e) => attachment.push(`[${imageID}]:${String(e.target.result).replace(\"application/octet-stream;\", mime)}`);\n                                reader.onloadend = () => resolve();\n                                reader.readAsDataURL(blob);\n                            }));\n                        } else {\n                            content.push(`![${imageTip}](${topic.image.src} \"${imageTip}\")`);\n                        }\n                    }\n                }\n                promise.finally(() => {\n                    const mdBlob = new Blob([`${content.join(\"\\r\\n\")}\\r\\n\\r\\n${attachment.join(\"\\r\\n\")}`]);\n                    hostAdapter.saveToFile(mdBlob, translate.get(\"Markdown File(*.md)\"), \"md\", true);\n                });\n            },\n            onFocusTopicChanged(_topic) {\n                this.markMenuEditable(_topic);\n            },\n            onBlurFloatPanel() {\n                this.closeInputPanel();\n            },\n            onHistoryChanged(_count) {\n                this.menuContent[3].disable = (_count.undo <= 0);\n                this.menuContent[4].disable = (_count.redo <= 0);\n                this.$refs.toolbar.$forceUpdate();\n            },\n            onSwitchPage(_index) {\n                const mind = this.mind;\n                this.saveCurrentPage();\n                mind && (mind.length > _index) && (_index >= 0) && this.loadPage(mind[_index]);\n            },\n            onUndo() {\n                this.$refs.mindView.history.undo();\n                this.onHistoryChanged(this.$refs.mindView.history.count);\n            },\n            onRedo() {\n                this.$refs.mindView.history.redo();\n                this.onHistoryChanged(this.$refs.mindView.history.count);\n            },\n            loadPage(_page) {\n                if (_page) {\n                    this.currentPage = _page;\n                    this.cleanAttachments();\n                    this.$refs.mindView.showMind(_page.topic);\n                    this.closeAllPanel();\n                    const listMenu = this.menuContent[1].subItems;\n                    const pageCount = listMenu.length;\n                    for (let index = 4; index < pageCount; index++) {\n                        listMenu[index].style = ((listMenu[index].pageID === _page.id) ? {\n                            fontWeight: \"800\",\n                        } : undefined);\n                    }\n                    this.markMenuEditable();\n                    this.$forceUpdate();\n                }\n            },\n            execCmd(_cmd) {\n                const fn = this.$refs.mindView[_cmd];\n                (typeof fn === \"function\") && fn();\n            },\n            invokePropertyEditor(_id) {\n                const view = this.$refs.mindView;\n                view && (view.blurFloatPanel(), view.invokePropertyEditor(_id));\n            },\n            closeAllPanel() {\n                this.$refs.mindView.blurFloatPanel();\n                this.requestSearch = undefined;\n            },\n            showInputPanel(_caption, _tip, _value, _fnConfirm, _fnCancel) {\n                this.requestInput = {\n                    caption: _caption,\n                    tip: _tip, \n                    value: _value,\n                    confirm: _fnConfirm,\n                    cancel: _fnCancel\n                }\n            },\n            closeInputPanel() {\n                this.requestInput = undefined;\n            },\n            onInputConfirm() {\n                const requestInput = this.requestInput;\n                this.requestInput = undefined;\n                if (requestInput) {\n                    const fn = requestInput.confirm;\n                    (typeof fn === \"function\") && fn(requestInput.value);\n                }\n            },\n            onInputCancel() {\n                const requestInput = this.requestInput;\n                this.requestInput = undefined;\n                if (requestInput) {\n                    const fn = requestInput.cancel;\n                    (typeof fn === \"function\") && fn(requestInput.value);\n                }\n            },\n            onStartSearch() {\n                this.closeAllPanel();\n                this.requestSearch = {\n                    value: \"\",\n                    iterator: undefined,\n                    record: []\n                };\n            },\n            onSearchNext() {\n                const requestSearch = this.requestSearch;\n                if (requestSearch && requestSearch.value) {\n                    requestSearch.iterator || (requestSearch.iterator = this.$refs.mindView.mind.getTopicIterator(), requestSearch.record = []);\n                    let current;\n                    let found = false;\n                    while (!found && !(current = requestSearch.iterator.next()).done) {\n                        const data = current.value.topicData();\n                        for (const itemName in data) {\n                            if (String(data[itemName]).match(requestSearch.value)) {\n                                found = true;\n                                break;\n                            }\n                        }\n                    }\n                    if (found) {\n                        const topic = current.value;\n                        requestSearch.record.push(topic);\n                        topic.focus(true);\n                        this.$refs.mindView.toCenter(topic);\n                    } else if (current.done) {\n                        this.$tip.warn(translate.get(\"Searching operation have reached the end of the current mindmap\"));\n                        requestSearch.iterator = undefined;\n                    }\n                }\n            },\n            onSearchPrev() {\n                const requestSearch = this.requestSearch;\n                const record = requestSearch && requestSearch.record;\n                if (record && record.length > 1) {\n                    let prev;\n                    record.pop();\n                    while ((prev = record.pop()) !== undefined) {\n                        const newIterator = this.$refs.mindView.mind.getTopicIterator();\n                        let current;\n                        while (!(current = newIterator.next()).done) {\n                            if (current.value.isSame(prev)) {\n                                prev.focus(true);\n                                this.$refs.mindView.toCenter(prev);\n                                record.push(prev);\n                                requestSearch.iterator = newIterator;\n                                console.log(\"prev\", requestSearch);\n                                break;\n                            }\n                        }\n                        if (current && !current.done) {\n                            break;\n                        }\n                    }\n                }\n            },\n            onSearchInputChange() {\n                if (this.requestSearch) {\n                    this.requestSearch.record = [];\n                    this.requestSearch.iterator = this.$refs.mindView.mind.getTopicIterator();\n                }\n            },\n            onSearchCancel() {\n                this.closeAllPanel();\n            }\n        },\n        mounted() {\n            window.addEventListener(\"vscode.notify.save\", this.onSave.bind(this));\n            window.addEventListener(\"vscode.notify.saveAs\", this.onSaveAsInvokeByHost.bind(this));\n            this.$nextTick(async () => {\n                let file = await hostAdapter.loadCurrentFile();\n                if (file) {\n                    const xmindfile = await xmind.load(file);\n                    const mind = (this.mind = fileFormat.fromXMind(xmindfile));\n                    this.loadAttachments(xmindfile.attachmentInterator());\n                    this.pickPageList();\n                    this.loadPage(mind[0]);\n                } else {\n                    this.$refs.mindView.attachments.clear();\n                    this.mind = [];\n                    this.onNewPage();\n                }\n            });\n        }\n    }\n</script>\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--12-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=540721c4&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","<style>\r\n    .nano-tip-bg-box {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        margin: 6px;\r\n        background-color: transparent;\r\n        border: 0px;\r\n        z-index: 999;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        font-size: 10px;\r\n        -webkit-touch-callout: none; /* iOS Safari */\r\n        -webkit-user-select: none; /* Chrome/Safari/Opera */\r\n        -khtml-user-select: none; /* Konqueror */\r\n        -moz-user-select: none; /* Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n        user-select: none; /* Non-prefixed version, currently not supported by any browser */\r\n    }\r\n\r\n    .nano-tip-content-box {\r\n        padding: 6px;\r\n        margin: 3px 0px;\r\n        background-color: rgba(255, 255, 255, 0.9);\r\n        border-radius: 6px;\r\n        box-shadow: 0px 3px 6px rgba(128, 128, 128, 0.9);\r\n        border: 0px;\r\n        color: #333;\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .nano-tip-icon {\r\n        width: 16px;\r\n        height: 16px;\r\n        margin: 0px 6px 0px 0px;\r\n    }\r\n\r\n    .nano-tip-icon-flag {\r\n        fill: #fff;\r\n        stroke: #fff;\r\n        stroke-width: 1.5;\r\n    }\r\n\r\n    .nano-confirm-dlg-bg {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        right: 0;\r\n        bottom: 0;\r\n        margin: 0px;\r\n        padding: 0px;\r\n        background-color: rgba(128, 128, 128, 0.6);\r\n        border: 0px;\r\n        z-index: 999;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n        font-size: 13px;\r\n        -webkit-touch-callout: none; /* iOS Safari */\r\n        -webkit-user-select: none; /* Chrome/Safari/Opera */\r\n        -khtml-user-select: none; /* Konqueror */\r\n        -moz-user-select: none; /* Firefox */\r\n        -ms-user-select: none; /* Internet Explorer/Edge */\r\n        user-select: none; /* Non-prefixed version, currently not supported by any browser */\r\n    }\r\n\r\n    .nano-confirm-dlg {\r\n        padding: 6px;\r\n        margin: 0px;\r\n        background-color: rgba(255, 255, 255, 0.9);\r\n        border-radius: 6px;\r\n        box-shadow: 0px 3px 6px rgba(128, 128, 128, 0.9);\r\n        border: 0px;\r\n        color: #333;\r\n        display: flex;\r\n        flex-direction: column;\r\n        justify-content: center;\r\n        align-items: center;\r\n    }\r\n\r\n    .nano-confirm-dlg-content {\r\n        margin: 3px 0px;\r\n        padding: 0px;\r\n        border: 0px;\r\n        background-color: transparent;\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: center;\r\n        align-items: center;\r\n        min-width: 170px;\r\n        min-height: 57px;\r\n    }\r\n\r\n    .nano-confirm-dlg-buttons-bar {\r\n        margin: 3px 0px;\r\n        padding: 0px;\r\n        border: 0px;\r\n        background-color: transparent;\r\n        display: flex;\r\n        flex-direction: row;\r\n        justify-content: flex-end;\r\n        align-items: center;\r\n        width: 100%;\r\n    }\r\n\r\n    .nano-confirm-dlg-button {\r\n        border: 1px solid #ccc;\r\n        border-radius: 3px;\r\n        background: linear-gradient(to top, rgba(226, 226, 226, 0.5) 26%,rgba(246, 246, 246, 0.5) 90%,rgba(255, 255, 255, 0.9) 100%);\r\n        color: #333;\r\n        outline: none;\r\n        font-size: 13px;\r\n        padding: 6px;\r\n        margin: 0px 0px 0px 3px;\r\n        min-width: 66px;\r\n    }\r\n\r\n    .nano-confirm-dlg-button:hover {\r\n        border-color: #09f;\r\n        background: linear-gradient(to top, rgba(0, 117, 255, 0.9) 26%,rgba(0, 157, 255, 0.9) 90%,rgba(0, 170, 255, 0.9) 100%);\r\n        color: #fff;\r\n    }\r\n\r\n    .nano-confirm-dlg-button:active {\r\n        border-color: #09f;\r\n        background: linear-gradient(to top, rgba(0, 170, 255, 0.9) 26%,rgba(0, 157, 255, 0.9) 90%,rgba(0, 117, 255, 0.9) 100%);\r\n        color: #fff;\r\n    }\r\n\r\n</style>\r\n\r\n<script>\r\nimport { translate } from \"mind.svg.vue\";\r\n\r\nexport default {\r\n    render() {\r\n        return \"\";\r\n    }\r\n}\r\n\r\n/**\r\n * 确认对话框类\r\n */\r\nclass ConfirmDlg {\r\n    constructor (_msg, _opt, _resolve, _reject) {\r\n        try {\r\n            _opt || (_opt = {});\r\n            _opt.buttons || (_opt.buttons = [translate.get(\"OK\"), translate.get(\"CANCEL\")]);\r\n            if (document.querySelector(\"div.nano-confirm-dlg-bg\")) {\r\n                _reject(\"Another confirm dialog is still running!\");\r\n            } else {\r\n                // Promise方法记录\r\n                this.resolve = _resolve;\r\n                this.reject = _reject;\r\n                // 背景遮罩\r\n                const dlgBg = (this.rootElement = document.createElement(\"div\"));\r\n                dlgBg.setAttribute(\"class\", \"nano-confirm-dlg-bg\");\r\n                dlgBg.addEventListener(\"mousedown\", (e) => {e.stopPropagation(), e.preventDefault()});\r\n                dlgBg.addEventListener(\"keydown\", (e) => {e.stopPropagation(), e.preventDefault()});\r\n                dlgBg.addEventListener(\"touchstart\", (e) => {e.stopPropagation(), e.preventDefault()});\r\n                // 对话框主体\r\n                const dlg = document.createElement(\"div\");\r\n                dlg.setAttribute(\"class\", _opt.class ? `nano-confirm-dlg ${_opt.class}` : \"nano-confirm-dlg\");\r\n                _opt.style && dlg.setAttribute(\"style\", _opt.style);\r\n                dlgBg.appendChild(dlg);\r\n                // 对话框内容\r\n                const content = document.createElement(\"div\");\r\n                content.setAttribute(\"class\", \"nano-confirm-dlg-content\");\r\n                _msg && content.appendChild(document.createTextNode(_msg));\r\n                _opt.html && content.insertAdjacentHTML(\"beforeend\", _opt.html);\r\n                dlg.appendChild(content);\r\n                // 对话框按钮\r\n                const buttonsBar = document.createElement(\"div\");\r\n                buttonsBar.setAttribute(\"class\", \"nano-confirm-dlg-buttons-bar\");\r\n                dlg.appendChild(buttonsBar);\r\n                this.buttons = [];\r\n                for (const idx in _opt.buttons) {\r\n                    const button = document.createElement(\"button\");\r\n                    button.setAttribute(\"class\", \"nano-confirm-dlg-button\");\r\n                    button.appendChild(document.createTextNode(_opt.buttons[idx]));\r\n                    button.addEventListener(\"click\", () => this.onClick(idx));\r\n                    buttonsBar.appendChild(button);\r\n                    this.buttons.push(button);\r\n                }\r\n                // 超时自动化响应\r\n                if ((_opt.timeout > 0) && (_opt.default >= 0) && (_opt.default < this.buttons.length)) {\r\n                    this.timeout = _opt.timeout;\r\n                    const defaultButton = this.buttons[_opt.default];\r\n                    const timeoutUnit = translate.get(\"S\");\r\n                    defaultButton.appendChild(document.createTextNode(`(${parseInt((this.timeout + 999)/1000)}${timeoutUnit})`));\r\n                    this.timer = setInterval(() => this.onTimer(_opt.default, defaultButton, _opt.buttons[_opt.default], timeoutUnit), 1000);\r\n                }\r\n                // 生效\r\n                const body = document.querySelector(\"body\");\r\n                body.appendChild(dlgBg);\r\n            }\r\n        } catch (_err) {\r\n            _reject(_err);\r\n        }\r\n    }\r\n\r\n    onClick(_index) {\r\n        (typeof this.resolve === \"function\") && this.resolve(parseInt(_index));\r\n        this.timer && (clearInterval(this.timer), this.timer = undefined);\r\n        this.rootElement && (this.rootElement.remove(), this.rootElement = undefined);\r\n    }\r\n\r\n    onTimer(_index, _button, _text, _unit) {\r\n        this.timeout -= 1000;\r\n        if (this.timeout > 0) {\r\n            _button.innerHTML = `${_text}(${parseInt((this.timeout + 999)/1000)}${_unit})`;\r\n        } else {\r\n            this.onClick(_index);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * 提示框类\r\n */\r\nclass TipBox {\r\n    constructor (_msg, _icon, _opt) {\r\n        _opt || (_opt = {});\r\n        const body = document.querySelector(\"body\");\r\n        if (!(this.bgDiv = document.querySelector(\"div.nano-tip-bg-box\"))) {\r\n            this.bgDiv = document.createElement(\"div\");\r\n            this.bgDiv.setAttribute(\"class\", \"nano-tip-bg-box\");\r\n            body.appendChild(this.bgDiv);\r\n        }\r\n        const contentDiv = (this.contentDiv = document.createElement(\"div\"));\r\n        contentDiv.setAttribute(\"class\", _opt.class ? `nano-tip-content-box ${_opt.class}` : \"nano-tip-content-box\");\r\n        _icon && contentDiv.insertAdjacentHTML(\"afterbegin\", _icon);\r\n        _msg &&contentDiv.appendChild(document.createTextNode(_msg));\r\n        _opt.style && contentDiv.setAttribute(\"style\", _opt.style);\r\n        _opt.html && contentDiv.insertAdjacentHTML(\"beforeend\", _opt.html);\r\n        this.bgDiv.appendChild(contentDiv);\r\n        (_opt.timeout > 0) && (this.timer = setTimeout(() => {\r\n            this.close()\r\n        }, _opt.timeout));\r\n    }\r\n\r\n    close() {\r\n        this.contentDiv && (this.contentDiv.remove(), this.contentDiv = undefined);\r\n        this.timer && (clearTimeout(this.timer), this.timer = undefined);\r\n        this.bgDiv && (this.bgDiv.children.length <= 0) && this.bgDiv.remove();\r\n        this.bgDiv = undefined;\r\n    }\r\n}\r\n\r\n/**\r\n * 显示自定义提示\r\n * @param {string} _msg 提示文本\r\n * @param {string} _icon 图标元素的HTML\r\n * @param {object} _opt 选项，包括: timeout超时自动关闭的时间, class自定义内容风格类, style自定义内容风格, html自定义html内容\r\n */\r\nfunction showTip(_msg, _icon, _opt) {\r\n    _opt || (_opt = {timeout: 3000});\r\n    return new TipBox(_msg, _icon, _opt);\r\n}\r\n\r\nconst tip = {\r\n    /**\r\n     * 显示完全自定义消息\r\n     */\r\n    custom: showTip,\r\n    /**\r\n     * 显示提示信息\r\n     * @param {string} _msg 提示文本\r\n     * @param {object} _opt 选项，包括: timeout超时自动关闭的时间, class自定义内容风格类, style自定义内容风格, html自定义html内容\r\n     */\r\n    info(_message, _opt) {\r\n        return showTip(_message, \r\n        `<svg class=\"nano-tip-icon\">\r\n            <circle cx=\"8\" cy=\"8\" r=\"8\" stroke=\"none\" fill=\"#09f\"/>\r\n            <path class=\"nano-tip-icon-flag\" d=\"M6 7L8 6V13V7M6 13H10M8 2V4\" />\r\n        </svg>`, \r\n        _opt);\r\n    },\r\n    /**\r\n     * 显示警告信息\r\n     * @param {string} _msg 提示文本\r\n     * @param {object} _opt 选项，包括: timeout超时自动关闭的时间, class自定义内容风格类, style自定义内容风格, html自定义html内容\r\n     */\r\n    warn(_message, _opt) {\r\n        return showTip(_message, \r\n        `<svg class=\"nano-tip-icon\">\r\n            <circle cx=\"8\" cy=\"8\" r=\"8\" stroke=\"none\" fill=\"#fa0\"/>\r\n            <path class=\"nano-tip-icon-flag\" d=\"M8 10L7.5 2.5H8.5L8 10M8 12V14\" />\r\n        </svg>`, \r\n        _opt);\r\n    },\r\n    /**\r\n     * 显示错误信息\r\n     * @param {string} _msg 提示文本\r\n     * @param {object} _opt 选项，包括: timeout超时自动关闭的时间, class自定义内容风格类, style自定义内容风格, html自定义html内容\r\n     */\r\n    error(_message, _opt) {\r\n        return showTip(_message, \r\n        `<svg class=\"nano-tip-icon\">\r\n            <circle cx=\"8\" cy=\"8\" r=\"8\" stroke=\"none\" fill=\"#f00\"/>\r\n            <path class=\"nano-tip-icon-flag\" d=\"M4 4L12 12M12 4L4 12\" />\r\n        </svg>`, \r\n        _opt);\r\n    },\r\n    /**\r\n     * 确认对话框\r\n     * @param {string} _msg 提示文本\r\n     * @param {object} _opt 选项，包括: timeout超时自动关闭的时间, class自定义内容风格类, style自定义内容风格, html自定义html内容, default超时生效时的默认按钮编号, buttons由按钮文字组成的数组\r\n     */\r\n    confirm(_message, _opt) {\r\n        return new Promise((_resolve, _reject) => new ConfirmDlg(_message, _opt, _resolve, _reject));\r\n    }\r\n};\r\n\r\nexport function registry(_vue) {\r\n    _vue.prototype.$tip = tip;\r\n}\r\n</script>","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tipKit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tipKit.vue?vue&type=script&lang=js&\"","var render, staticRenderFns\nimport script from \"./tipKit.vue?vue&type=script&lang=js&\"\nexport * from \"./tipKit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./tipKit.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export default {\r\n    \"zh-cn\": require(\"./zh-cn.json\")\r\n}","const DEFAULT_TIMEOUT = 6000;\r\n\r\nfunction procResultMessage(_event) {\r\n    this.timerID && (clearTimeout(this.timerID), this.timerID = undefined);\r\n    window.removeEventListener(this.event, this.fn);\r\n    this.resolve(_event.detail);\r\n}\r\n\r\nfunction waitTimeout(item) {\r\n    console.log(\"timeout:\", item.event);\r\n    window.removeEventListener(item.event, item.fn);\r\n    item.timerID = undefined;\r\n    item.reject();\r\n}\r\n\r\nexport default class VSCodeHost {\r\n    constructor (_host) {\r\n        this.host = _host;\r\n        window.addEventListener('message', this.onMessage.bind(this));\r\n    }\r\n\r\n    onMessage(_event) {\r\n        const message = _event.data;\r\n        if (message.$return) {\r\n            let customEvent = new CustomEvent(`vscode.${message.$return}`, { detail: message });\r\n            window.dispatchEvent(customEvent);\r\n        } else if (message.$notify) {\r\n            let customEvent = new CustomEvent(`vscode.notify.${message.$notify}`, { detail: message });\r\n            window.dispatchEvent(customEvent);\r\n        }\r\n    }\r\n\r\n    send(_cmd, _param) {\r\n        this.host.postMessage(Object.assign({command:_cmd}, _param));\r\n    }\r\n\r\n    waitResult(_type, _timeout) {\r\n        return new Promise((resolve, reject) => {\r\n            let event = `vscode.${_type}`;\r\n            let thisArg = { event, resolve, reject };\r\n            let fn = procResultMessage.bind(thisArg);\r\n            thisArg.fn = fn;\r\n            thisArg.timerID = setTimeout(waitTimeout, _timeout || DEFAULT_TIMEOUT, thisArg);\r\n            window.addEventListener(event, fn, { once: true });\r\n        });\r\n    }\r\n\r\n    sendAndWait(_cmd, _param, _timeout) {\r\n        return new Promise((resolve, reject) => {\r\n            let event = `vscode.${_cmd}`;\r\n            let thisArg = { event, resolve, reject };\r\n            let fn = procResultMessage.bind(thisArg);\r\n            thisArg.fn = fn;\r\n            thisArg.timerID = setTimeout(waitTimeout, _timeout || DEFAULT_TIMEOUT, thisArg);\r\n            window.addEventListener(event, fn, { once: true });\r\n            this.send(_cmd, _param);\r\n        });\r\n    }\r\n}","/* global acquireVsCodeApi:false */\n\nimport Vue from 'vue'\nimport App from './App.vue'\nimport { mindSvgView, translate, lang } from \"mind.svg.vue\";\nimport \"mind.svg.vue/.lib/mindSvgVue.css\";\nimport * as tipKit from \"./components/tipKit\";\nimport appLang from \"./lang/lang\";\nimport VSCodeHost from \"./js/vscodeHost\";\nimport * as hostAdapter from \"./js/hostAdapter\";\n\nlet promise = new Promise(r => r());\n\nconst host = (typeof acquireVsCodeApi === \"function\") ? acquireVsCodeApi() : undefined;\nconsole.log(host ? \"in vscode mode\" : \"in normal web mode\");\n\nif (host) {\n    const vscode = new VSCodeHost(host);\n    hostAdapter.setHost(vscode);\n    promise = promise.then(() => vscode.sendAndWait(\"getEnv\")).then(env => {\n        translate.map(lang[env.language]);\n        translate.map(appLang[env.language]);\n    });\n} else {\n    promise = promise.then(() => {\n        translate.map(lang.zhCN);\n        translate.map(appLang.zhCN);\n    });\n}\n\npromise.finally(() => {\n    Vue.use(mindSvgView);\n\n    tipKit.registry(Vue);\n\n    new Vue({\n    render: h => h(App),\n    }).$mount('#app')\n});\n\n","import { utility } from \"mind.svg.vue\";\r\n\r\nlet host = undefined;\r\n\r\nexport function loadCurrentFile() {\r\n    return host ? host.sendAndWait(\"loadCurrentFile\").then(result => {\r\n        if (result.value) {\r\n            const buffer = Buffer.from(result.value, \"base64\");\r\n            const blob = new Blob([buffer]);\r\n            return blob;\r\n        } else {\r\n            return undefined;\r\n        }\r\n    }) : new Promise(r => r(undefined));\r\n}\r\n\r\nexport function saveFile(_blob, _params) {\r\n    if (host) {\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n            const buffer = Buffer.from(event.target.result);\r\n            host.send(\"saveCurrentFile\", Object.assign({ value: buffer.toString(\"base64\") }, _params));\r\n        };\r\n        reader.readAsArrayBuffer(_blob);\r\n    } else {\r\n        const url = URL.createObjectURL(_blob);\r\n        utility.dynInvokeLink(url, {download: \"*.xmind\"});\r\n        URL.revokeObjectURL(url);\r\n    }\r\n}\r\n\r\nexport function saveFileAs(_blob) {\r\n    const reader = new FileReader();\r\n    reader.onload = (event) => {\r\n        const buffer = Buffer.from(event.target.result);\r\n        host.send(\"saveCurrentFileAs\", { value: buffer.toString(\"base64\") });\r\n    };\r\n    reader.readAsArrayBuffer(_blob);\r\n}\r\n\r\nexport function saveToFile(_blob, _filterName, _filter, _show) {\r\n    if (host) {\r\n        const reader = new FileReader();\r\n        reader.onload = (event) => {\r\n            const buffer = Buffer.from(event.target.result);\r\n            host.send(\"saveToFile\", { \r\n                filter: { [_filterName]: [_filter] },\r\n                value: buffer.toString(\"base64\"),\r\n                openAfterSave: _show\r\n            });\r\n        };\r\n        reader.readAsArrayBuffer(_blob);\r\n    } else {\r\n        const url = URL.createObjectURL(_blob);\r\n        utility.dynInvokeLink(url, {download: `*.${_filter}`});\r\n        URL.revokeObjectURL(url);\r\n    }\r\n}\r\n\r\nexport function newFile() {\r\n    host ? host.send(\"exec\", { id: \"vsc-nano-mindmap.newMindMap\" })\r\n         : window.open(location.href)\r\n}\r\n\r\nexport function openFile() {\r\n    if (host) {\r\n        host.send(\"exec\", { id: \"vsc-nano-mindmap.openMindMap\" });\r\n        return new Promise(r => r(undefined));\r\n    } else {\r\n        return utility.pickFile(\".xmind\");\r\n    }\r\n}\r\n\r\nexport function noSpecialHost() {\r\n    return (host == undefined);\r\n}\r\n\r\nexport function setHost(_host) {\r\n    host = _host;\r\n}","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tipKit.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./tipKit.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}