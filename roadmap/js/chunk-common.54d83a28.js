(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-common"],{"0470":function(t,e,n){},"145e":function(t,e,n){"use strict";n("a351")},"150b":function(t,e,n){},"1a52":function(t,e,n){},"1c38":function(t,e,n){},"2c66":function(t,e,n){},"302a":function(t,e,n){},"32d4":function(t,e,n){"use strict";n("ff39")},3437:function(t,e,n){},3788:function(t,e,n){var r,i,a,o=n("7037").default;n("6c57"),n("d3b7"),n("a4d3"),n("e01a"),n("d28b"),n("3ca3"),n("ddb0"),n("a630"),n("fb6a"),n("b0c0"),n("dca8"),n("159b"),n("a9e3"),n("d81d"),n("ac1f"),n("1276"),n("af93"),n("caad"),n("2532"),n("498a"),n("5319"),n("99af"),n("4ec9"),n("aff5"),function(s,c){"object"==o(e)&&"undefined"!=typeof t?t.exports=c(n("d60b")):(i=[n("d60b")],r=c,a="function"===typeof r?r.apply(e,i):r,void 0===a||(t.exports=a))}(0,(function(t){"use strict";function e(t){return t&&"object"==o(t)&&"default"in t?t:{default:t}}function n(t,e,n,r,i,a,o){try{var s=t[a](o),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,i)}function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function s(t){return function(t){if(Array.isArray(t))return a(t)}(t)||function(t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var c=e(t).default;function l(t,e){if(t)return t;throw"function"==typeof e?e.apply(void 0,Array.prototype.slice.call(arguments).slice(2)):e}function u(t){return(u="function"==typeof Symbol&&"symbol"==o(Symbol.iterator)?function(t){return o(t)}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(t)}function d(t,e,n){if(t&&e)if("object"===u(e))for(var r in e)Object.defineProperty(t,r,{value:e[r],writable:!1,enumerable:!0});else Object.defineProperty(t,e,{value:n,writable:!1,enumerable:!0});return t}var p=Object.freeze({SVG:"http://www.w3.org/2000/svg",ROADMAP:"https://season-studio.github.io/roadmap/"});function h(t){var e=this.length,n=this.$lastLocation,r=0;do{var i=this[n];if(t<i.$startTime)r||(r=-1);else{if(!(t>=i.$endTime))return this.$lastLocation=n,i;r||(r=1)}n+=r}while(n>=0&&n<e)}function f(t){var e=t-this.$startTime,n=this.$timeLength;return e<0?e=0:e>n&&(e=n),this.$layoutStart+this.$layoutSize/n*e}function m(t,e){var n=0;return t.forEach((function(t){var r=t.$layouts;r instanceof Array?n+=m(r,e):t instanceof Node&&(n+=t.$layoutUnit=Number(t.getAttribute("r:time-layout-unit"))||1,isNaN(t.$startTime=Date.parse(t.getAttribute("r:time-start")))&&(t.$startTime=0),isNaN(t.$endTime=Date.parse(t.getAttribute("r:time-end")))&&(t.$endTime=void 0),e.push(t))})),n}function v(t){t.$lastLocation=0;for(var e=void 0,n=t.length-1;n>=0;n--){var r=t[n];void 0===e?e=r.$endTime:(r.$endTime=e,e=r.$startTime),l(e>=r.$startTime,"end time is less than start time"),r.$timeLength=r.$endTime-r.$startTime}}var g=[31,function(t){return t%4==0&&t%100!=0||t%400==0?29:28},31,30,31,30,31,31,30,31,30,31];function w(t,e){var n=g[e];return"function"==typeof n?n(t):n}function y(t){!(t instanceof Date)&&(t=new Date(t));var e=new Date(this[0].$startTime),n=t.getFullYear(),r=n-e.getFullYear(),i=t.getMonth(),a=i-e.getMonth(),o=t.getDate(),s=o===w(n,i),c=t.getHours(),l=t.getMinutes(),u=t.getSeconds(),d=function(t){var e=(t=new Date(t)).getMonth(),n=t.getFullYear()+r,i=e+a;i>12&&(n+=1,i-=12);var d=s?w(n,i):o;return new Date(n,i,d,c,l,u,0).getTime()};this.forEach((function(t){t.$startTime=d(t.$startTime)}));var p=this.length-1;this[p].$endTime=d(this[p].$endTime),v(this)}function b(t){var e=this;l(t instanceof Array,"the parameter must be an array");var n=this.length;t.map((function(t,e){var n=new Date(t).getTime();if(isNaN(n))throw"the parameter[".concat(e,"] is not avaliable time");return n})).forEach((function(t,r){r<n?e[r].$startTime=t:e[n-1].$endTime=t})),v(this)}function x(){this.forEach((function(t){isNaN(t.$startTime=Date.parse(t.getAttribute("r:time-start")))&&(t.$startTime=0),isNaN(t.$endTime=Date.parse(t.getAttribute("r:time-end")))&&(t.$endTime=void 0)})),v(this)}function C(t,e){t instanceof Array&&e instanceof Array&&e.forEach((function(e,n){null!=e&&(t[n].textContent=void 0!==e.text?e.text:e,e.subGroup&&C(t.$layouts,e.subGroup))}))}function $(t){t instanceof Array&&t.forEach((function(t){t.textContent=t.$defaultText,t.$layouts&&$(t.$layouts)}))}function j(t){var e=s(t.querySelectorAll("[r\\:time]")),n=[];e.forEach((function(t){for(var e,r,i={$layouts:n},a=String(t.getAttribute("r:time")).split("-"),o=a.length-1,s=0;s<o;s++)e=a[s],r=i.$layouts||(i.$layouts=[]),i=r[e]||(r[e]={});e=a[o];var c=(r=i.$layouts||(i.$layouts=[]))[e];r[e]=t,c&&(t.$layouts=c.$layouts),t.$defaultText=t.textContent}));var r=[];r.$unitCount=m(n,r),v(r);var i=r[0],a=r[r.length-1];Object.defineProperties(this,{$layouts:{value:n,writable:!1},$firstScale:{value:i,writable:!1},$lastScale:{value:a,writable:!1},$startTime:{get:function(){return i.$startTime}},$endTime:{get:function(){return a.$endTime}},$scaleItems:{value:r,writable:!1}}),this.modifyTime=y.bind(r),this.setTimeScales=b.bind(r),this.restoreTimeScales=x.bind(r),this.setDisplay=function(t){C(n,t)},this.restoreDisplay=function(){return $(n)},this.findItem=h.bind(r);var o=t.querySelector("[r\\:time-scale-size]"),c=(o?(o.getBBox||o.getBoundingClientRect).call(o,{stroke:!0})[o.getAttribute("r:time-scale-size")]:0)/r.$unitCount,l=0;r.forEach((function(t){t.$layoutSize=c*t.$layoutUnit,t.$layoutStart=l,t.$layoutEnd=l+=t.$layoutSize,t.getLayoutLocation=f.bind(t)})),Object.seal(this)}function k(t,e,n){t.setAttribute(e,n)}function S(t,e,n){t.style[e]=n}function T(t,e,n){t.textContent=n}var _=Symbol("roadmap.expression.drop"),D=Symbol("roadmap.expression.break"),O=Symbol("roadmap.expression.exit"),I=[_,D,O],L={$show:function(t,e,n){!n&&t.remove()},$break:function(t,e,n){if(n)throw D},$exit:function(t,e,n){if(n)throw O}};function M(t,e){this.value=t,this.error=e}function A(t,e){try{var n=t[0],r=t[1];if(n===r)throw e;if("function"==typeof r){if(r(n))throw e}else if(t.length<=1&&!n)throw e;return n}catch(t){if(t instanceof M)return t;throw t}}var E={break:function(t,e){return A(arguments,new M(t,D))},exit:function(t,e){return A(arguments,new M(t,O))},drop:function(t,e){return A(arguments,_)}};function P(t,e,n,r){try{this.forEach((function(i){var a=i.fn,o=i.setter,s=i.key,c=i.expression;try{if("function"==typeof a){var l=a.call(t,e,n,r,E);if(l instanceof M)throw"function"==typeof o&&o(t,s,l.value),l.error;"function"==typeof o&&o(t,s,l)}}catch(t){if(I.includes(t)){if(t!==_)throw t}else console.error("[Dynamic Expression Run Fail]",c),console.error(t)}}))}catch(t){return t}}function R(t){var e=String(t).split(";").map((function(t){if(t=t.trim()){var e,n=t.split(/(?<!\=[^\=]*)=/),r=n[0],i=n[1];""===(r=r.trim())?e=void 0:"@"===r[0]?(e=S,r=r.substr(1)):e="$"===r[0]?L[r]:":"===r[0]?T:k;try{return{fn:new Function("project","item","layout","$","return (".concat(i,")")),setter:e,key:r,expression:i}}catch(t){return console.error("[Dynamic Expression Parse Fail]",i),{}}}}));return P.bind(e)}var N=[{caption:"Normal Project",state:"normal",items:[{text:"DR1",start:"2021/01/10",end:"2021/01/20",state:"finish",progress:1},{text:"DR2",start:"2021/01/20",end:"2021/02/01",state:"finish",progress:1},{text:"DR3",start:"2021/02/01",end:"2021/04/15",state:"normal",progress:.5},[[{text:"DR4",start:"2021/04/15",end:"2021/04/30",state:"",progress:.1},{text:"DR5",start:"2021/05/07",end:"2021/06/10",state:""},{text:"DR6",start:"2021/06/10",end:"2021/07/05",state:""}],[{text:"tender",start:"2021/06/24",end:"2021/06/26",state:""},{text:"experimental",start:"2021/06/30",end:"2021/08/17",state:""}]],{text:"be online",start:"2021/09/01",end:"2021/09/02",state:""}]},{caption:"Warn Project",state:"warn",items:[{text:"DR1",start:"2021/03/08",end:"2021/03/30",state:"finish",progress:1},{text:"DR2",start:"2021/03/30",end:"2021/04/10",state:"finish",progress:1},{text:"DR3",start:"2021/04/10",end:"2021/05/26",state:"delay",progress:.2},{text:"DR4",start:"2021/06/01",end:"2021/06/15",state:"",progress:0},[[{text:"DR5",start:"2021/06/17",end:"2021/07/15",state:"",progress:0},{text:"DR6",start:"2021/07/20",end:"2021/08/10",state:"",progress:0}],{text:"DEMO",start:"2021/06/26",end:"2021/07/07",state:"",progress:0}]]}],Z=Symbol("roadmap.timeScales"),z=Symbol("roadmap.dyncFunctions");function B(t,e,n,r,i){var a=this[z].get(t.getAttribute(e));return"function"==typeof a&&a(t,n,r,i)}function F(t,e,n,r,i){var a=this;s(t.querySelectorAll("[".concat(e.replace(":","\\:"),"]"))).forEach((function(t){var o=a[z].get(t.getAttribute(e));"function"==typeof o&&o(t,n,r,i)}));var o=this[z].get(t.getAttribute(e));"function"==typeof o&&o(t,n,r,i)}function q(t,e,n,r){var i=this,a=this.template,o=[],s=r.itemLocalIndex,c=0;r.itemLocalIndex=0,t.forEach((function(t){if(t instanceof Array){c++;var s=document.createElementNS(p.SVG,"g");if(s){e.appendChild(s),o.push(s);var l=0;t.forEach((function(t){var e=document.createElementNS(p.SVG,"g");e&&(s.appendChild(e),q.call(i,t instanceof Array?t:[t],e,n,r),a.setTransform(e,l,0),l+=a.getSize(e)+i.parameters.itemMargin)}))}}else{var u="number"==typeof t.start?t.start:Date.parse(t.start),d="number"==typeof t.end?t.end:Date.parse(t.end),h=i[Z].findItem(u);if(h&&d>u){r.itemStart=h.getLayoutLocation(u);var f=i[Z].findItem(d);r.itemEnd=f?f.getLayoutLocation(d):d>=i[Z].$endTime?i[Z].$lastScale.$layoutEnd:h.$layoutStart,r.itemSize=r.itemEnd-r.itemStart;var m=a.item.cloneNode(!0);m&&(t.id&&m.setAttribute("data-item-id",t.id),e.appendChild(m),o.push(m),F.call(i,m,"r:dync",n,t,r))}r.itemIndex++}r.itemLocalIndex++}));var l=r.itemZoneSize=a.getSize(e);c>0&&o.forEach((function(t){var e=a.getSize(t);a.setTransform(t,(l-e)/2,0)})),r.itemLocalIndex=s}function V(t,e,n){var r=this.template,i=r.caption.cloneNode(!0);e.appendChild(i),F.call(this,i,"r:dync",t,{},n);var a=r.getSize(e),o=r.getSize(i);r.setTransform(i,(a-o)/2,0)}var H={horizontal:{getSize:function(t){return t?(t.getBBox||t.getBoundingClientRect).call(t,{stroke:!0}).height:0},setTransform:function(t,e,n){t&&t.setAttribute("transform","matrix(1,0,0,1,".concat(Number(n)||0,",").concat(Number(e)||0,")"))}},vertical:{getSize:function(t){return t?(t.getBBox||t.getBoundingClientRect).call(t,{stroke:!0}).width:0},setTransform:function(t,e,n){t&&t.setAttribute("transform","matrix(1,0,0,1,".concat(Number(e)||0,",").concat(Number(n)||0,")"))}}};function Y(){var t,e=this.template.global,n=this.svg.querySelector("[r\\:tag='sample-projects']");if(n)try{(n=JSON.parse(String(n.innerHTML).replace(/(^[^\{]*)|([^\}]*$)/g,"")))instanceof Array||(n=[n])}catch(t){n=N}else n=N;return{itemMargin:Number(e.getAttribute("r:item-margin"))||0,projectMargin:Number(e.getAttribute("r:project-margin"))||0,sampleProjects:n,maxZoneSize:Number(this.zone.getAttribute("r:max-size"))||0,primeDateMap:(t=this.zone.getAttribute("r:prime-date-map"),t&&String(t).trim())}}function G(t,e){var n={};if(t<=e)for(var r=e.getFullYear(),i=e.getMonth(),a=t.getFullYear(),o=t.getMonth();a<=r;a++,o=0){var s=a<r?12-o:i-o+1;n[a]=s}return n}var U=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),l(e instanceof Node&&e.isConnected,"_container must be an Node connected to a DOM tree"),l(n instanceof SVGSVGElement,"_svgTemplate must be an instance of <SVG>"),e.innerHTML="",e.appendChild(n);var r=n.querySelector("[r\\:tag='roadmap-zone']"),i=n.querySelector("[r\\:tag='project-template']");l(r&&i,"incorrect template"),d(this,Z,new j(n));var a=new Map;s(n.querySelectorAll("[r\\:dync]")).forEach((function(t,e){var n="dync".concat(e);a.set(n,R(t.getAttribute("r:dync"))),t.setAttribute("r:dync",n)})),s(n.querySelectorAll("[r\\:dync-project]")).forEach((function(t,e){var n="zone".concat(e);a.set(n,R(t.getAttribute("r:dync-project"))),t.setAttribute("r:dync-project",n)})),d(this,z,a);var o=i.querySelector("[r\\:tag='project-group']"),c=i.querySelector("[r\\:tag='project-caption']"),u=i.querySelector("[r\\:tag='project-item-zone']"),p=i.querySelector("[r\\:tag='project-item']");l(o&&c&&u&&p,"incorrect template"),o.remove(),c.remove(),u.remove(),p.remove();var h=H["vertical"===i.getAttribute("r:grow-direction")?"vertical":"horizontal"],f=s(n.querySelectorAll("[r\\:dync-global]"));f.forEach((function(t,e){var n="global".concat(e);a.set(n,R(t.getAttribute("r:dync-global"))),t.setAttribute("r:dync-global",n)})),i.remove(),d(this,{svg:n,zone:r,template:Object.freeze({global:i,projectGroup:o,caption:c,itemZone:u,item:p,dyncGlobals:f,getSize:h.getSize,setTransform:h.setTransform})}),d(this,"parameters",Y.call(this))}var e,i,a,o,u;return e=t,i=[{key:"startTime",get:function(){return new Date(this[Z].$startTime)},set:function(t){this[Z].modifyTime(t)}},{key:"endTime",get:function(){return new Date(this[Z].$endTime)}},{key:"setPrimeDate",value:function(t){t=new Date(t);var e=this.parameters.primeDateMap?new Function("year","month","day","return ".concat(this.parameters.primeDateMap)):void 0;this.startTime=e?new Date(e(t.getFullYear(),t.getMonth()+1,t.getDate())):t}},{key:"setTimeScales",value:function(t){this[Z].setTimeScales(t)}},{key:"restoreTimeScales",value:function(){this[Z].restoreTimeScales()}},{key:"setTimeScalesDisplay",value:function(t){this[Z].setDisplay(t)}},{key:"restoreTimeScalesDisplay",value:function(){this[Z].restoreDisplay()}},{key:"clear",value:function(){this.zone.innerHTML=""}},{key:"showProject",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.length;if(i>0){this.clear();var a=0,o=this.template,s={};try{n.forEach((function(e,n){var r={projectIndex:n,itemIndex:0},c=o.projectGroup.cloneNode(!0);if(c){t.zone.appendChild(c);var l=c.querySelector("[r\\:tag='project-zone']")||c,u=o.itemZone.cloneNode(!1);l.appendChild(u);var d=e.items;if(d instanceof Array&&q.call(t,d,u,e,r),V.call(t,e,l,r),r.projectZoneSize=o.getSize(l),c.setAttribute("data-project-index",n),e.id&&c.setAttribute("data-project-id",e.id),F.call(t,c,"r:dync-project",e,{},r),r.projectSize=o.getSize(c),t.parameters.maxZoneSize>0){var p=parseInt(t.parameters.maxZoneSize-r.projectSize-o.getSize(t.zone));0===p?n<i-1&&(s.index=n+1):p<0&&(c.remove(),s.index=n)}if(c.isConnected&&(o.setTransform(c,a,0),r.globalZoneSize=o.getSize(t.zone),o.dyncGlobals.forEach((function(a){if(B.call(t,a,"r:dync-global",e,{},r)===O&&n<i-1)throw s.index=n+1,s})),a+=o.getSize(c)+t.parameters.projectMargin),void 0!==s.index)throw s}}))}catch(t){if(t===s)return n.slice(s.index)}}}},{key:"showProjects",value:function(t){return t instanceof Array&&this.showProject.apply(this,t)}},{key:"showSample",value:function(){return this.showProject.apply(this,this.parameters.sampleProjects)}},{key:"toImage",value:function(){var t=this;return new Promise((function(e,n){var r='<?xml version="1.0" standalone="no"?>\r\n'+(new XMLSerializer).serializeToString(t.svg),i=new Image;i.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(r),i.onload=function(){return e(i)},i.onerror=function(t){return n(t)}}))}},{key:"toImageData",value:(o=c.mark((function t(e){return c.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",this.toImage().then((function(t){var n=t.width,r=t.height,i=document.createElement("canvas");i.width=n,i.height=r;var a=i.getContext("2d");return a.fillStyle="rgba(255,255,255,0)",a.fillRect(0,0,n,r),a.drawImage(t,0,0),{width:n,height:r,data:i.toDataURL("image/".concat(e||"png"))}})));case 1:case"end":return t.stop()}}),t,this)})),u=function(){var t=this,e=arguments;return new Promise((function(r,i){var a=o.apply(t,e);function s(t){n(a,r,i,s,c,"next",t)}function c(t){n(a,r,i,s,c,"throw",t)}s(void 0)}))},function(t){return u.apply(this,arguments)})}],a=[{key:"inferPrimeYear",value:function(){for(var t={},e=function e(n){if(n instanceof Array)n.forEach(e);else{var r=G(new Date(n.start),new Date(n.end));for(var i in r){var a=r[i],o=t[i];(!o||o<a)&&(t[i]=a)}}},n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];r.forEach((function(t){return t.items.forEach(e)}));var a=Number.MAX_SAFE_INTEGER,o=0;for(var s in t){var c=t[s];(c>o||c===o&&s<a)&&(a=s,o=c)}return a}}],i&&r(e.prototype,i),a&&r(e,a),t}();return i(U,"VERSION","1.0.0"),i(U,"STAMP","STAMP".concat(1622539865276)),U}))},"49a9":function(t,e,n){},"4a49":function(t,e,n){"use strict";n("2c66")},"50ad":function(t,e,n){"use strict";n("3437")},"542d":function(t,e,n){"use strict";n("302a")},5796:function(t,e,n){"use strict";n.d(e,"b",(function(){return f}));var r=n("53ca"),i=n("2909"),a=(n("a4d3"),n("e01a"),n("d3b7"),n("13d5"),n("a9e3"),n("99af"),n("ac1f"),n("5319"),n("a15b"),n("d81d"),n("159b"),"season-tip-type"),o="".concat(a,'="tip"'),s='<div class="-season-tip-container" '.concat(o," />"),c=Symbol("season-tip-private"),l=Symbol("season-tip-resolve"),u=Symbol("season-tip-options"),d=Symbol("season-tip-timerid");function p(){return Object(i["a"])(document.body.querySelectorAll("*")).reduce((function(t,e){return Math.max(t,Number(window.getComputedStyle(e).zIndex)||0)}),0)+1}function h(t){var e=this,n=this[c];n instanceof Element&&n.isConnected&&(n.className="".concat(n.className," -season-tip-fadeout"),n.addEventListener("transitionend",(function(){"function"===typeof n.remove&&n.remove(),e[d]&&(clearTimeout(e[d]),e[d]=void 0);var r=e[u]&&e[u].onclose;"function"===typeof r&&r(e,t),"function"===typeof e[l]&&(e[l](t),delete e[l])}),{once:!0}))}function f(t,e){if(e=e||{type:"normal"},"object"!==Object(r["a"])(e)&&(e={type:String(e)}),!(this instanceof f)){var n=new f(t,e);return n&&n.show(),n}var i=document.createElement("div");if(i&&(this[c]=i,this[u]=e,i.setAttribute("class","-season-tip-box"),i.setAttribute("d-season-tip-type",e.type||"normal"),i.insertAdjacentHTML("beforeend",'<div class="-season-tip-icon"></div><div class="-season-tip-text">'.concat(t,"</div>")),e.closable)){i.insertAdjacentHTML("beforeend",'<div class="-season-tip-close-button" />');var a=i.querySelector(".-season-tip-close-button");a&&a.addEventListener("click",h.bind(this))}}f.prototype={close:h,show:function(t){var e=this[c];if(this instanceof f&&e&&!e.isConnected){t instanceof HTMLElement||(t=document.body);var n=t.querySelector("[".concat(o,"]"));if(n||(t.insertAdjacentHTML("afterbegin",s),n=t.querySelector("[".concat(o,"]"))),n){n.style.zIndex=p(),n.insertAdjacentElement("afterbegin",e),setTimeout((function(){return e.className="-season-tip-box -season-tip-fadein"}),0);var r=Number(this[u].timeout)||(this[u].closable?0:3e3);r&&(this[d]=setTimeout(h.bind(this),r))}}}};var m={info:'<svg viewBox="0 0 96 96" xmlns="http://www.w3.org/2000/svg" width="26" height="26" stroke="#40a9ff" stroke-width="4"><g><path d="M47.979 10C27.0038 10 10 27.0038 10 47.979 10 68.9542 27.0038 85.958 47.979 85.958 68.9542 85.958 85.958 68.9542 85.958 47.979 85.9674 27.0132 68.9788 10.0094 48.013 10 48.0017 10 47.9903 10 47.979 10ZM47.979 83.958C28.1083 83.958 12 67.8497 12 47.979 12 28.1083 28.1083 12 47.979 12 67.8497 12 83.958 28.1083 83.958 47.979 83.9354 67.8403 67.8403 83.9354 47.979 83.958Z"/><path d="M49 35 41 35 41 37 47 37 47 67 40 67 40 69 56 69 56 67 49 67 49 35Z"/><circle cx="46.814" cy="26.5" r="2.25"/></g></svg>',ok:'<svg viewBox="0 0 96 96" xmlns="http://www.w3.org/2000/svg" width="26" height="26" stroke="#0b0" stroke-width="4"><g><path d="M48 10C27.0071 9.99393 9.98408 27.0071 9.978 48 9.97193 68.9929 26.9851 86.0159 47.978 86.022 68.9709 86.0281 85.9939 69.0149 86 48.022 86 48.018 86 48.014 86 48.01 86.011 27.0287 69.0113 10.011 48.03 10 48.02 10 48.01 10 48 10ZM48 84.021C28.1117 84.0271 11.9841 67.9093 11.978 48.021 11.9719 28.1327 28.0897 12.0051 47.978 11.999 67.8663 11.9929 83.9939 28.1107 84 47.999 84 48.0037 84 48.0083 84 48.013 83.9802 67.8888 67.8758 83.9981 48 84.024Z"/><path d="M41.5 60.086 29 47.586 27.586 49 41.5 62.914 70.914 33.5 69.5 32.086 41.5 60.086Z"/></g></svg>',error:'<svg width="26" height="26" viewBox="0 0 96 96" xmlns="http://www.w3.org/2000/svg" stroke="red" stroke-width="4"><g><path d="M48 10C27.0071 9.99393 9.98408 27.0071 9.978 48 9.97193 68.9929 26.9851 86.0159 47.978 86.022 68.9709 86.0281 85.9939 69.0149 86 48.022 86 48.018 86 48.014 86 48.01 86.011 27.0287 69.0113 10.011 48.03 10 48.02 10 48.01 10 48 10ZM48 84.021C28.1117 84.0271 11.9841 67.9093 11.978 48.021 11.9719 28.1327 28.0897 12.0051 47.978 11.999 67.8663 11.9929 83.9939 28.1107 84 47.999 84 48.0037 84 48.0083 84 48.013 83.9802 67.8888 67.8758 83.9981 48 84.024Z"/><path d="M62.041 32.557 47.998 46.6 33.955 32.557 32.541 33.971 46.584 48.014 32.541 62.057 33.955 63.471 47.998 49.428 62.041 63.471 63.455 62.057 49.412 48.014 63.455 33.971 62.041 32.557Z"/></g></svg>',question:'<svg viewBox="0 0 96 96" xmlns="http://www.w3.org/2000/svg" width="26" height="26" stroke="green" stroke-width="4"><g><path d="M47.979 10C27.0038 10 10 27.0038 10 47.979 10 68.9542 27.0038 85.958 47.979 85.958 68.9542 85.958 85.958 68.9542 85.958 47.979 85.9674 27.0132 68.9788 10.0094 48.013 10 48.0017 10 47.9903 10 47.979 10ZM47.979 83.958C28.1083 83.958 12 67.8497 12 47.979 12 28.1083 28.1083 12 47.979 12 67.8497 12 83.958 28.1083 83.958 47.979 83.9354 67.8403 67.8403 83.9354 47.979 83.958Z"/><path d="M49.345 27.079C42.7414 26.3273 36.7789 31.0712 36.0272 37.6748 35.9759 38.1257 35.9501 38.5792 35.95 39.033L37.95 39.033C37.9522 33.4936 42.4446 29.0048 47.984 29.007 53.5235 29.0093 58.0122 33.5017 58.01 39.0411 58.0086 42.4915 56.2337 45.6991 53.311 47.533 49.4115 49.9087 47.0166 54.131 46.979 58.697L48.979 58.697C49.0205 54.819 51.0627 51.2376 54.379 49.227 60.0072 45.6952 61.7066 38.2696 58.1748 32.6414 56.2307 29.5434 52.9829 27.4979 49.349 27.083Z"/><circle cx="48" cy="67" r="2"/></g></svg>',warn:'<svg viewBox="0 0 96 96" xmlns="http://www.w3.org/2000/svg" width="26" height="26" stroke="#faad14" stroke-width="4"><g><path d="M90.6 80 51.5 12C50.4365 10.0946 48.0298 9.41212 46.1244 10.4756 45.4848 10.8326 44.957 11.3604 44.6 12L5.4 80C4.30371 81.9275 4.9775 84.3787 6.90497 85.475 7.5129 85.8208 8.20061 86.0017 8.9 86L87.1 86C89.3174 86.0055 91.1195 84.2124 91.125 81.995 91.1268 81.2956 90.9458 80.6079 90.6 80ZM88.839 83.019C88.4799 83.637 87.8146 84.0123 87.1 84L8.9 84C8.18507 84.0125 7.5195 83.6367 7.161 83.018 6.78807 82.3997 6.77737 81.6284 7.133 81L46.348 12.971C46.8768 12.0316 48.0671 11.6987 49.0065 12.2276 49.3275 12.4082 49.5908 12.676 49.766 13L88.852 80.971C89.2186 81.6057 89.2137 82.389 88.839 83.019Z"/><path d="M48 73.98C47.3953 73.9976 46.8116 73.7577 46.394 73.32 45.9625 72.8895 45.7274 72.3003 45.744 71.691 45.7194 71.0835 45.953 70.4939 46.387 70.068 46.8156 69.6456 47.3985 69.4172 48 69.436 48.6136 69.4208 49.208 69.6503 49.652 70.074 50.1 70.4898 50.3446 71.0802 50.322 71.691 50.3367 72.3033 50.0911 72.8932 49.646 73.314 49.212 73.7526 48.6168 73.9934 48 73.98Z"/><path d="M46.901 62.6 46.578 30.787 49.289 30.787 48.966 62.6 46.901 62.6Z"/></g></svg>'};function v(t,e){if(e=e||{},"object"!==Object(r["a"])(e)&&(e=e instanceof Array?{buttons:e}:{icon:String(e)}),void 0!==arguments[2]&&(e.buttons=arguments[2]),e.buttons?e.buttons instanceof Array||(e.buttons=[String(e.buttons)]):e.buttons=["Close"],Number(e.default)||(e.default=0),!(this instanceof v)){var n=new v(t,e);return n.show()}var i=document.createElement("div");i&&(this[c]=i,this[u]=e,i.setAttribute("class","-season-tip-mask-container"),i.insertAdjacentHTML("beforeend",'<div class="-season-confirm-box">\n                    <div class="-season-confirm-info-line">\n                        '.concat(m[e.icon]||"",'<div class="-season-confirm-info">').concat(String(t).replace("\n","<br />"),'</div>\n                    </div>\n                    <div class="-season-confirm-buttons">\n                        ').concat(e.buttons?e.buttons.map((function(t,n){return'<div class="-season-tip-button '.concat(n===e.default?"-season-tip-button-default":"",'" d-index="').concat(n,'">').concat(t,"</div>")})).join(""):"","\n                    </div>\n                </div>")))}function g(t,e,n,r){e.textContent="".concat(n," (").concat(r,")"),r?this[d]=setTimeout(g,1e3,t,e,n,r-1):(this[d]=void 0,t.close(Number(e.getAttribute("d-index"))))}v.prototype={close:h,show:function(t){var e=this;return new Promise((function(n){var r=e[c];if(e instanceof v&&r&&!r.isConnected){e[l]=n,t instanceof HTMLElement||(t=document.body),r.style.zIndex=p(),t.insertAdjacentElement("afterbegin",r),setTimeout((function(){return r.className="-season-tip-mask-container -season-tip-fadein"}),0),Object(i["a"])(r.querySelectorAll(".-season-tip-button")).forEach((function(t){t.addEventListener("click",(function(t){e.close(Number(t.target.getAttribute("d-index")))}))}));var a=Number(e[u].timeout),o=r.querySelector(".-season-tip-button-default");if(a&&o){var s=o.textContent;o.textContent="".concat(s," (").concat(a,")"),e[d]=setTimeout(g,1e3,e,o,s,a-1)}}}))}},e["a"]={install:function(t,e){t&&(t.prototype.$tip=f,t.prototype.$confirm=v)},tip:f,confirm:v}},6757:function(t,e,n){"use strict";n("fa47")},"68c6":function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));n("99af"),n("caad"),n("2532"),n("b64b");var r={$SummaryOptions:{state:{type:"select",tip:"Project State",default:"normal",values:[{value:"normal",tip:"Normal",color:"#40a9ff"},{value:"warn",tip:"Warn",color:"red"},{value:"finished",tip:"Finished",color:"green"},{value:"cancelled",tip:"Canelled",color:"#ccc"},{value:"suspend",tip:"Suspend",color:"#999"}]},image:{type:"image",tip:"Project Photo"}},$TaskOptions:{start:{type:"date",tip:"Start Date",default:new Date,adjust:function(t,e){if(new Date(e.end).getTime()-new Date(t).getTime()<864e5)return e.end=new Date(new Date(e.start).getTime()+864e5),"The end date must be one day later then the start date at least"}},end:{type:"date",tip:"End Date",default:new Date(Date.now()+864e5),adjust:function(t,e){if(new Date(t).getTime()-new Date(e.start).getTime()<864e5)return e.end=new Date(new Date(e.start).getTime()+864e5),"The end date must be one day later then the start date at least"}},state:{type:"select",tip:"State",default:"",values:[{value:"",tip:"Standby",color:"#ccc"},{value:"normal",tip:"Normal",color:"#40a9ff"},{value:"delay",tip:"Delay",color:"red"},{value:"finish",tip:"Finish",color:"green"}]},progress:{type:"percent",tip:"Progress",default:0,adjust:function(t,e){return t<0?(e.progress=0,"The progress can not be less than 0"):t>100?(e.progress=100,"The progress can not be greater than 100"):void 0}}},$TaskSummaryOptions:[{key:"state",valueMap:{undefined:"#ccc","":"#ccc",normal:"#40a9ff",delay:"red",finish:"green"},style:{width:"20px",height:"16px",border:"solid 1px #fff",paddingRight:"16px",backgroundColor:null}},{key:"start",valueMap:function(t){var e=new Date(t),n=e.getMonth()+1,r=e.getDate();return"".concat(e.getFullYear(),"-").concat(n<10?"0"+n:n,"-").concat(r<10?"0"+r:r)},textContent:!0,style:{"--before":'"["'}},{value:"~",textContent:!0,style:{padding:"0px"}},{key:"end",valueMap:function(t){var e=new Date(t),n=e.getMonth()+1,r=e.getDate();return"".concat(e.getFullYear(),"-").concat(n<10?"0"+n:n,"-").concat(r<10?"0"+r:r)},textContent:!0,style:{"--after":'"]"'}},{key:"progress",textContent:!0,style:{"--after":'"%"'}}],projects:[{caption:"Sample 1",state:"normal",image:"./logo.png",items:[{text:"DR1",start:"2021/01/10",end:"2021/01/20",state:"finish",progress:100},{text:"DR2",start:"2021/01/20",end:"2021/02/01",state:"finish",progress:100},{text:"DR3",start:"2021/02/01",end:"2021/04/15",state:"normal",progress:50},[[{text:"DR4",start:"2021/04/15",end:"2021/04/30",state:"",progress:10},{text:"DR5",start:"2021/05/07",end:"2021/06/10",state:""},{text:"DR6",start:"2021/06/10",end:"2021/07/05",state:""}],[{text:"tender",start:"2021/06/24",end:"2021/06/26",state:""},{text:"experimental",start:"2021/06/30",end:"2021/08/17",state:""}]],{text:"be online",start:"2021/09/01",end:"2021/09/02",state:""}]},{caption:"Sample 2",state:"warn",image:"./logo.png",items:[{text:"DR1",start:"2021/03/08",end:"2021/03/30",state:"finish",progress:100},{text:"DR2",start:"2021/03/30",end:"2021/04/10",state:"finish",progress:100},{text:"DR3",start:"2021/04/10",end:"2021/05/26",state:"delay",progress:20},{text:"DR4",start:"2021/06/01",end:"2021/06/15",state:"",progress:0},[[{text:"DR5",start:"2021/06/17",end:"2021/07/15",state:"",progress:0},{text:"DR6",start:"2021/07/20",end:"2021/08/10",state:"",progress:0}],{text:"DEMO",start:"2021/06/26",end:"2021/07/07",state:"",progress:0}]]}]};Object.defineProperties(r,{initItem:{value:function(t,e){!Object.keys(this).includes(t)&&(this[t]=e)},writable:!1,enumerable:!1,configurable:!1},newTaskByDefault:{value:function(t){var e={text:""},n=r.$TaskOptions;for(var i in n)e[i]=n[i].default;return Object.assign(e,t),e},writable:!1,enumerable:!1,configurable:!1}}),e["b"]={install:function(t){t&&(t.prototype.$Share=function(){return r})}}},"6ec3":function(t,e,n){"use strict";n("b4d0")},"704c":function(t,e,n){"use strict";n("9f09")},"76be":function(t,e,n){"use strict";n("49a9")},"79ee":function(t,e,n){},"7c5d":function(t,e,n){"use strict";n("b038")},"7d50":function(t,e,n){},"85d6":function(t,e,n){"use strict";n("ca14")},"928c":function(t,e,n){"use strict";n("0470")},"963d":function(t,e,n){"use strict";n("1a52")},9691:function(t,e,n){"use strict";n.d(e,"a",(function(){return d})),n.d(e,"b",(function(){return p}));var r=n("1da1"),i=n("53ca"),a=(n("96cf"),n("d3b7"),n("25f0"),n("99af"),{}),o=void 0,s=!1,c={},l=void 0;function u(){return this.message||""}function d(t){var e=o&&o[t]||t;return e&&"object"===Object(i["a"])(e)&&(e.toString=u),s&&(c[t]=e),e}d.config=function(t){t||(t={}),a=t.data||{},l=t.loader},d.install=function(t,e){t&&(d.config(e),t.prototype.$T=d)},Object.defineProperties(d,{enableRecord:{get:function(){return s},set:function(t){return s=t}},record:{get:function(){return JSON.stringify(c)}}}),d.setLocale=function(){var t=Object(r["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e=String(e).toLowerCase(),o=a&&a[e],o||!l){t.next=23;break}if(t.prev=3,"function"!==typeof l){t.next=15;break}if(n=l(e),!(n instanceof Promise)){t.next=12;break}return t.next=9,n;case 9:o=t.sent,t.next=13;break;case 12:o=n;case 13:t.next=18;break;case 15:return t.next=17,fetch("".concat(l).concat(e,".json")).then((function(t){return t.json()}));case 17:o=t.sent;case 18:t.next=23;break;case 20:t.prev=20,t.t0=t["catch"](3),o={};case 23:return t.abrupt("return",o);case 24:case"end":return t.stop()}}),t,null,[[3,20]])})));return function(e){return t.apply(this,arguments)}}();var p=d},"9e14":function(t,e,n){"use strict";n("79ee")},"9f09":function(t,e,n){},a351:function(t,e,n){},b038:function(t,e,n){},b4d0:function(t,e,n){},b5ad:function(t,e,n){"use strict";n("1c38")},ca14:function(t,e,n){},d688:function(t,e,n){},dcbd:function(t,e,n){},ebfd:function(t,e,n){"use strict";n("d688")},f370:function(t,e,n){"use strict";var r=n("1da1"),i=(n("96cf"),n("2b0e"));n("150b"),n("53ca");var a=n("9691");n("f98f"),n("fb6a");var o=n("5796"),s=(n("f98f"),n("7d50"),n("68c6"));e["a"]=function(t,e){return c.apply(this,arguments)};function c(){return c=Object(r["a"])(regeneratorRuntime.mark((function t(e,n){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n||(n={}),i["a"].use(a["b"],{loader:"./locales/"}),t.next=5,a["b"].setLocale(navigator.language);case 5:i["a"].use(o["a"]),i["a"].use(s["b"]),i["a"].use({install:function(t){t.prototype.log=function(){}}}),i["a"].config.productionTip=!1,"function"===typeof n.onInitialize&&n.onInitialize(),new i["a"]({render:function(t){return t(e)}}).$mount(n.domContainer||"#app");case 11:case"end":return t.stop()}}),t)}))),c.apply(this,arguments)}},f75a:function(t,e,n){"use strict";var r={};n.r(r),n.d(r,"init",(function(){return or}));var i={};n.r(i),n.d(i,"init",(function(){return ur}));var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.activeView,{tag:"component",staticClass:"app",attrs:{projectIndex:t.projectIndex},on:{"change-view":t.onChangeView}})},o=[],s=n("1da1"),c=(n("96cf"),n("d3b7"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"edit-main-panel"},[n("div",{staticClass:"project-info-panel"},[n("project-title",{staticStyle:{"z-index":"999"},attrs:{caption:t.project.caption,projectCollection:t.projectCollection},on:{"caption-changed":function(e){return t.setSummaryItem("caption",arguments[0])},"new-project":t.onNewProject,"delete-project":t.onDeleteProject,"select-project":function(e){t.currentProjectIndex=arguments[0]},"enter-project-collection":function(e){return t.$emit("change-view","projectsView")},"draw-project":function(e){return t.$emit("change-view","projectsView",t.currentProjectIndex)}}}),n("div",{staticClass:"project-summary-panel"},[n("div",{staticClass:"project-summary-tip",on:{click:function(e){t.showSummary=!t.showSummary}}},[t._v(" "+t._s(t.$T("Summary"))+" "),t.showSummary?n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"}},[n("path",{attrs:{d:"M19.3 11 76.7 48 19.3 85Z"}})]):n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16"}},[n("g",[n("path",{attrs:{d:"M47.979 10C27.0038 10 10 27.0038 10 47.979 10 68.9542 27.0038 85.958 47.979 85.958 68.9542 85.958 85.958 68.9542 85.958 47.979 85.9674 27.0132 68.9788 10.0094 48.013 10 48.0017 10 47.9903 10 47.979 10ZM47.979 83.958C28.1083 83.958 12 67.8497 12 47.979 12 28.1083 28.1083 12 47.979 12 67.8497 12 83.958 28.1083 83.958 47.979 83.9354 67.8403 67.8403 83.9354 47.979 83.958Z"}}),n("path",{attrs:{d:"M49 35 41 35 41 37 47 37 47 67 40 67 40 69 56 69 56 67 49 67 49 35Z"}}),n("circle",{attrs:{cx:"46.814",cy:"26.5",r:"2.25"}})])])]),t.showSummary?n("div",{staticClass:"project-summary-list"},[t._l(t.projectSummaries,(function(e,r,i){return n("div",{key:r,staticClass:"project-summary-item",style:{zIndex:799-i}},[n("span",[t._v(t._s(t.$T(e.tip))+":")]),t._v(" "+t._s(e.$index)+" "),n("edit-item",{attrs:{type:e.type,list:e.values,value:t.project[r]},on:{"set-value":function(e){return t.setSummaryItem(r,arguments[0])},clear:function(e){return t.clearSummaryItem(r)}}})],1)})),t.emptySummaries&&Object.keys(t.emptySummaries).length>0?n("drop-down-container",{staticClass:"project-summary-add",attrs:{position:"bottom-right",autoDropdown:!1,"dropdown-class":"project-summary-add-list"}},[n("icon-plus"),t._v(" "+t._s(t.$T("Add"))+" "),n("template",{slot:"drop-content"},t._l(t.emptySummaries,(function(e,r){return n("div",{key:r,staticClass:"project-summary-add-item",on:{click:function(n){return t.addSummaryItem(r,e)}}},[t._v(" "+t._s(t.$T(e.tip))+" ")])})),0)],2):t._e()],2):t._e()])],1),n("div",{staticClass:"project-tasks-caption"},[n("span",{on:{click:function(e){t.log(JSON.stringify(t.project))}}},[t._v(t._s(t.$T("Tasks"))+":")]),n("help-button",{attrs:{width:"14",height:"14"}})],1),n("div",{staticClass:"project-tasks-panel"},[n("task-list",{attrs:{list:t.project.items}})],1)])}),l=[],u=(n("a9e3"),n("b64b"),n("caad"),n("2532"),n("a434"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dropdown-start-item",on:{mouseleave:t.onLeave,mouseenter:function(e){return t.onEnter(t.autoDropdown)},click:function(e){return e.stopPropagation(),t.onEnter(!0)}}},[t._t("default"),t.showContent?n("div",{class:t.dropContainerClass,on:{click:function(e){return e.stopPropagation(),t.onLeave(e)}}},[t._t("drop-content")],2):t._e()],2)}),d=[],p=(n("99af"),{data:function(){return{showContent:this.initDropdown}},props:{position:{type:String},autoDropdown:{type:Boolean,default:!0},initDropdown:{type:Boolean,default:!1},dropdownClass:{type:String,default:""}},computed:{dropContainerClass:function(){return"dropdown-container dropdown-container-".concat(this.position||"bottom-left"," ").concat(this.dropdownClass||"")}},methods:{onEnter:function(t){this.showContent=t},onLeave:function(){this.showContent=!1}}}),h=p,f=(n("76be"),n("2877")),m=Object(f["a"])(h,u,d,!1,null,"9c505492",null),v=m.exports,g=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n(t.type+"Item",{tag:"component",attrs:{list:t.list,value:t.value,width:t.width,height:t.height,canClear:t.canClear},on:{"set-value":function(e){return t.$emit("set-value",arguments[0])},clear:function(e){return t.$emit("clear")}}})},w=[],y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select-container"},[n("div",{staticClass:"select-panel",style:{height:t.height+"px"},attrs:{"d-123":"123"}},[n("div",{staticClass:"select-value",style:{width:t.width+"px"}},[t.valueColor?n("div",{staticClass:"select-item-icon",style:{backgroundColor:t.valueColor,"--height":t.height+"px"}}):t.valueImage?n("div",{staticClass:"select-item-icon",style:{backgroundImage:"url("+t.valueImage+")","--height":t.height+"px"}}):t._e(),n("div",[t._v(t._s(t.$T(t.valueTip)))])]),n("drop-down-container",{staticClass:"select-dropdown-button",style:{"--height":t.height+"px"},attrs:{position:"bottom-right",autoDropdown:!1}},[n("icon-pulldown",{staticStyle:{margin:"0px 6px 0px 6px"}}),n("template",{slot:"drop-content"},[n("div",{staticClass:"select-droplist-box"},t._l(t.list,(function(e,r){return n("div",{key:r,staticClass:"select-value select-list-item",on:{click:function(n){return t.$emit("set-value",e.value)}}},[e.color?n("div",{staticClass:"select-item-icon",style:{backgroundColor:e.color,"--height":t.height+"px"}}):e.image?n("div",{staticClass:"select-item-icon",style:{backgroundImage:"url("+e.image+")","--height":t.height+"px"}}):t._e(),n("div",{staticClass:"select-value-tip"},[t._v(t._s(t.$T(e.tip)))])])})),0)])],2)],1),t.canClear?n("div",{on:{click:function(e){return t.$emit("clear")}}},[n("icon-delete",{staticClass:"select-clear-button",style:{height:t.height+"px",width:t.height+"px"}})],1):t._e()])},b=[],x=n("b85c"),C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M78 20 61 20 61 15C61 11.1 57.9 8 54 8L42 8C38.1 8 35 11.1 35 15L35 20 18 20C15.8 20 14 21.8 14 24L14 28 82 28 82 24C82 21.8 80.2 20 78 20ZM41 15C41 14.4 41.4 14 42 14L54 14C54.6 14 55 14.4 55 15L55 20 41 20 41 15Z"}}),n("path",{attrs:{d:"M20 84C20 86.2 21.8 88 24 88L72 88C74.2 88 76 86.2 76 84L76 32 20 32 20 84ZM61 38 67 38 67 82 61 82 61 38ZM45 38 51 38 51 82 45 82 45 38ZM29 38 35 38 35 82 29 82 29 38Z"}})])},$=[],j={},k=j,S=Object(f["a"])(k,C,$,!1,null,null,null),T=S.exports,_=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M19.3 11 76.7 48 19.3 85Z",transform:"rotate(90, 48, 48)"}})])},D=[],O={},I=O,L=Object(f["a"])(I,_,D,!1,null,null,null),M=L.exports,A={components:{DropDownContainer:v,IconPulldown:M,IconDelete:T},props:{list:{type:Array,required:!0},value:[String,Number,Boolean,Date],width:{type:Number,default:80},height:{type:Number,default:26},canClear:{type:Boolean,default:!0}},computed:{valueColor:function(){var t,e=Object(x["a"])(this.list);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.value===this.value)return n.color}}catch(r){e.e(r)}finally{e.f()}},valueImage:function(){var t,e=Object(x["a"])(this.list);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.value===this.value)return n.image}}catch(r){e.e(r)}finally{e.f()}},valueTip:function(){var t,e=Object(x["a"])(this.list);try{for(e.s();!(t=e.n()).done;){var n=t.value;if(n.value===this.value)return n.tip}}catch(r){e.e(r)}finally{e.f()}return this.value}}},E=A,P=(n("b5ad"),Object(f["a"])(E,y,b,!1,null,"4047034c",null)),R=P.exports,N=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"image-item-container",style:t.containerStyle},[t.value?n("div",{staticClass:"image-item-bar"},[n("div",{on:{click:t.onSelectImage}},[n("icon-open",{staticClass:"image-item-button"})],1),t.canClear?n("div",{on:{click:function(e){return t.$emit("clear")}}},[n("icon-delete",{staticClass:"image-item-button image-item-delete-button"})],1):t._e()]):n("div",{on:{click:t.onSelectImage}},[n("icon-plus",{staticClass:"image-item-plus-big"})],1)])},Z=[],z=(n("3ca3"),n("ddb0"),n("2b3d"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M88 42 54 42 54 8 42 8 42 42 8 42 8 54 42 54 42 88 54 88 54 54 88 54Z"}})])}),B=[],F={},q=F,V=Object(f["a"])(q,z,B,!1,null,null,null),H=V.exports,Y=n("f98f"),G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M28.9 37 79 37 79 32C79 29.8 77.2 28 75 28L45 28 34 20.7C33.3 20.3 32.6 20 31.8 20L13 20C10.8 20 9 21.8 9 24L9 73C9 73.2 21.9 41.7 21.9 41.7 23.1 38.9 25.8 37 28.9 37Z"}}),n("path",{attrs:{d:"M87 45C87 42.9 85.5 41.2 83.4 41L28.9 41C27.4 41 26.1 41.9 25.5 43.2L12 76 73 76 86.6 46.8C86.9 46.2 87 45.6 87 45L87 45Z"}})])},U=[],W={},J=W,K=Object(f["a"])(J,G,U,!1,null,null,null),X=K.exports,Q={components:{IconPlus:H,IconDelete:T,IconOpen:X},props:{value:{type:String,default:void 0},width:{type:Number,default:100},height:{type:Number,default:100},canClear:{type:Boolean,default:!0}},computed:{containerStyle:function(){var t=Object.assign({width:"".concat(this.width,"px"),height:"".concat(this.height,"px")},this.value?{backgroundImage:"url(".concat(this.value,")")}:{padding:"10px"});return t}},methods:{onSelectImage:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(Y["pickFile"])(".png,.jpeg,.jpg,.ico");case 3:n=e.sent,n&&(r=new Image,r.src=URL.createObjectURL(n),r.onload=function(){var e=r.width,n=r.height,i=document.createElement("canvas");i.width=e,i.height=n;var a=i.getContext("2d");a.fillStyle="rgba(255,255,255,0)",a.fillRect(0,0,e,n),a.drawImage(r,0,0);var o=i.toDataURL("image/png");t.$emit("set-value",o)}),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}}},tt=Q,et=(n("145e"),Object(f["a"])(tt,N,Z,!1,null,"e4e28552",null)),nt=et.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"switch-item-container"},[n("div",{staticClass:"switch-item",style:t.containerStyle,on:{click:function(e){return t.$emit("set-value",!t.value)}}},[n("div",{staticClass:"switch-item-button",style:t.buttonStyle})]),t.canClear?n("div",{on:{click:function(e){return t.$emit("clear")}}},[n("icon-delete",{staticClass:"switch-clear-button"})],1):t._e()])},it=[],at={components:{iconDelete:T},props:{height:{type:Number,default:26},value:{type:Boolean,default:!1},canClear:{type:Boolean,default:!0}},computed:{containerStyle:function(){return{height:"".concat(this.height,"px"),width:"".concat(2*this.height-8,"px"),borderRadius:"".concat(this.height/2,"px"),backgroundColor:this.value?"#40a9ff":"#ccc",justifyContent:this.value?"flex-end":"flex-start"}},buttonStyle:function(){var t=this.height-8;return{height:"".concat(t,"px"),width:"".concat(t,"px"),borderRadius:"".concat(t/2,"px")}}}},ot=at,st=(n("704c"),Object(f["a"])(ot,rt,it,!1,null,"4eeeaab2",null)),ct=st.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"date-item-container"},[n("input",{staticClass:"date-item-input",style:t.customStyle,attrs:{type:"date","d-value":t.valueForInput},domProps:{value:t.valueForInput},on:{change:t.onChange}}),t.canClear?n("div",{on:{click:function(e){return t.$emit("clear")}}},[n("icon-delete",{staticClass:"date-clear-button",style:{height:t.height+"px",width:t.height+"px"}})],1):t._e()])},ut=[],dt={components:{IconDelete:T},props:{height:{type:Number,default:26},width:{type:Number,default:100},value:{default:new Date},canClear:{type:Boolean,default:!0}},computed:{valueForInput:function(){var t=new Date(this.value),e=t.getMonth()+1,n=t.getDate();return"".concat(t.getFullYear(),"-").concat(e<10?"0"+e:e,"-").concat(n<10?"0"+n:n)},customStyle:function(){return{"--height":"".concat(this.height,"px"),"--width":"".concat(this.width,"px")}}},methods:{onChange:function(t){this.$emit("set-value",new Date(t.target.value))}}},pt=dt,ht=(n("9e14"),Object(f["a"])(pt,lt,ut,!1,null,"a80fe510",null)),ft=ht.exports,mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"percent-item-container"},[n("input",{style:{height:t.height+"px",width:t.width+"px"},attrs:{type:"number",min:"0",mix:"100"},domProps:{value:t.value},on:{change:t.onChange}}),t._v(" % "),t.canClear?n("div",{on:{click:function(e){return t.$emit("clear")}}},[n("icon-delete",{staticClass:"percent-clear-button",style:{height:t.height+"px",width:t.height+"px"}})],1):t._e()])},vt=[],gt={components:{IconDelete:T},props:{height:{type:Number,default:26},width:{type:Number,default:46},value:{type:Number,default:0},canClear:{type:Boolean,default:!0}},methods:{onChange:function(t){this.$emit("set-value",Number(t.target.value)||0)}}},wt=gt,yt=(n("963d"),Object(f["a"])(wt,mt,vt,!1,null,"64396b08",null)),bt=yt.exports,xt={components:{selectItem:R,imageItem:nt,switchItem:ct,dateItem:ft,percentItem:bt},props:["type","list","value","width","height","canClear"]},Ct=xt,$t=Object(f["a"])(Ct,g,w,!1,null,null,null),jt=$t.exports,kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"help-button",on:{click:function(e){return e.stopPropagation(),t.onHelp(e)}}},[n("icon-question",{attrs:{width:t.$attrs.width,height:t.$attrs.height}})],1)},St=[],Tt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("g",[n("path",{attrs:{d:"M47.979 10C27.0038 10 10 27.0038 10 47.979 10 68.9542 27.0038 85.958 47.979 85.958 68.9542 85.958 85.958 68.9542 85.958 47.979 85.9674 27.0132 68.9788 10.0094 48.013 10 48.0017 10 47.9903 10 47.979 10ZM47.979 83.958C28.1083 83.958 12 67.8497 12 47.979 12 28.1083 28.1083 12 47.979 12 67.8497 12 83.958 28.1083 83.958 47.979 83.9354 67.8403 67.8403 83.9354 47.979 83.958Z"}}),n("path",{attrs:{d:"M49.345 27.079C42.7414 26.3273 36.7789 31.0712 36.0272 37.6748 35.9759 38.1257 35.9501 38.5792 35.95 39.033L37.95 39.033C37.9522 33.4936 42.4446 29.0048 47.984 29.007 53.5235 29.0093 58.0122 33.5017 58.01 39.0411 58.0086 42.4915 56.2337 45.6991 53.311 47.533 49.4115 49.9087 47.0166 54.131 46.979 58.697L48.979 58.697C49.0205 54.819 51.0627 51.2376 54.379 49.227 60.0072 45.6952 61.7066 38.2696 58.1748 32.6414 56.2307 29.5434 52.9829 27.4979 49.349 27.083Z"}}),n("circle",{attrs:{cx:"48",cy:"67",r:"2"}})])])},_t=[],Dt={},Ot=Dt,It=Object(f["a"])(Ot,Tt,_t,!1,null,null,null),Lt=It.exports,Mt={components:{iconQuestion:Lt},methods:{onHelp:function(){window.open("https://season-studio.github.io/roadmap/help.html")}}},At=Mt,Et=(n("ebfd"),Object(f["a"])(At,kt,St,!1,null,"b89b18ac",null)),Pt=Et.exports,Rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"title-panel"},[n("div",{staticClass:"caption-container",on:{click:function(e){return e.stopPropagation(),t.onStartEditCaption(e)}}},[n("span",{staticClass:"caption-tag"},[t._v(t._s(t.$T("Project"))+":")]),t.editCaptionMode?n("input",{staticClass:"caption-input",attrs:{type:"text",placeholder:t.$T("Input the caption of this project")},on:{keydown:function(e){if(!e.type.indexOf("key")&&t._k(e.keyCode,"esc",27,e.key,["Esc","Escape"]))return null;e.preventDefault(),t.inEditCaption=!1},keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.onSubmitCaption(e)},blur:t.onSubmitCaption}}):n("span",{staticClass:"caption-text"},[t._v(t._s(t.caption))])]),n("drop-down-container",{staticClass:"caption-dropdown-button",attrs:{position:"bottom-right",autoDropdown:!1}},[n("icon-extend"),n("template",{slot:"drop-content"},[n("div",{staticClass:"caption-drop-menu-box"},[t.projectCollection&&t.projectCollection.length>0?n("div",{staticClass:"project-list-box",style:{maxHeight:t.dropMenuMaxHeight+"px"}},t._l(t.projectCollection,(function(e,r){return n("div",{key:r,staticClass:"caption-menu-item",on:{click:function(e){return t.$emit("select-project",r)}}},[t._v(" "+t._s(e.caption)+" ")])})),0):t._e(),n("div",{staticClass:"caption-menu-seperator-horizontal"}),n("div",{staticClass:"caption-menu-item project-option-button",on:{click:function(e){return t.$emit("draw-project")}}},[n("icon-draw",{attrs:{width:"17",height:"17"}}),t._v(" "+t._s(t.$T("Draw Roadmap..."))+" ")],1),n("div",{staticClass:"caption-menu-seperator-horizontal"}),n("div",{staticClass:"caption-menu-item project-option-button",on:{click:t.onNewProject}},[n("icon-new",{attrs:{width:"17",height:"17"}}),t._v(" "+t._s(t.$T("Insert New Project"))+" ")],1),n("div",{staticClass:"caption-menu-seperator-horizontal"}),n("div",{staticClass:"caption-menu-row-multiitems"},[n("div",{staticClass:"caption-menu-item caption-multiitem-button delete-project-button",on:{click:t.onDeleteProject}},[n("icon-delete",{attrs:{width:"17",height:"17"}}),t._v(" "+t._s(t.$T("Delete"))+" ")],1),n("div",{staticClass:"caption-menu-seperator-vertical"}),n("div",{staticClass:"caption-menu-item caption-multiitem-button project-option-button",on:{click:function(e){return t.$emit("enter-project-collection")}}},[n("icon-db",{attrs:{width:"17",height:"17"}}),t._v(" "+t._s(t.$T("Projects..."))+" ")],1)])])])],2)],1)},Nt=[],Zt=(n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("g",[n("ellipse",{attrs:{cx:"48",cy:"18",rx:"28",ry:"8"}}),n("path",{attrs:{d:"M68 38C66.8 38 66 37.2 66 36 66 34.8 66.8 34 68 34 69.2 34 70 34.8 70 36 70 37.2 69.2 38 68 38ZM48 30C32.6 30 20 26.4 20 22L20 38C20 42.4 32.6 46 48 46 63.4 46 76 42.4 76 38L76 22C76 26.4 63.4 30 48 30Z"}}),n("path",{attrs:{d:"M68 58C66.8 58 66 57.2 66 56 66 54.8 66.8 54 68 54 69.2 54 70 54.8 70 56 70 57.2 69.2 58 68 58ZM48 50C32.6 50 20 46.4 20 42L20 58C20 62.4 32.6 66 48 66 63.4 66 76 62.4 76 58L76 42C76 46.4 63.4 50 48 50Z"}}),n("path",{attrs:{d:"M68 78C66.8 78 66 77.2 66 76 66 74.8 66.8 74 68 74 69.2 74 70 74.8 70 76 70 77.2 69.2 78 68 78ZM48 70C32.6 70 20 66.4 20 62L20 78C20 82.4 32.6 86 48 86 63.4 86 76 82.4 76 78L76 62C76 66.4 63.4 70 48 70Z"}})])])}),zt=[],Bt={},Ft=Bt,qt=Object(f["a"])(Ft,Zt,zt,!1,null,null,null),Vt=qt.exports,Ht=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M78.8 21.39 82.361 17.855C83.136 17.1741 83.2123 15.9938 82.5314 15.2187 82.4929 15.175 82.4524 15.133 82.41 15.093L78.91 11.593C78.1516 10.8168 76.9075 10.8023 76.1313 11.5607 76.1204 11.5714 76.1096 11.5821 76.099 11.593L72.538 15.128Z"}}),n("path",{attrs:{d:"M66.002 60.5 66.002 57.5 58.502 57.5 58.502 68.5 57.002 68.5 57.002 71.5 76.502 71.5 76.502 36.5 68.061 36.5 65.061 39.5 73.502 39.5 73.502 48.5 58 48.5 58 51.5 73.502 51.5 73.502 57.5 71.002 57.5 71.002 60.5 73.502 60.5 73.502 68.5 61.502 68.5 61.502 60.5 66.002 60.5Z"}}),n("path",{attrs:{d:"M81.561 23 75.561 29 83 29 83 78 24.475 78C24.7067 77.3535 24.863 76.6824 24.941 76L25 75 25 29 54.48 29 60.469 23 25 23 25 22C25 17.0294 20.9706 13 16 13 11.0294 13 7 17.0294 7 22L7 75 7.059 76C7.55651 80.382 11.1543 83.7588 15.559 83.978L15.559 84 89 84 89 23ZM16 78C14.3431 78 13 76.6569 13 75 13 73.3431 14.3431 72 16 72 17.6569 72 19 73.3431 19 75 19 76.6569 17.6569 78 16 78ZM19 66.525C17.0612 65.825 14.9388 65.825 13 66.525L13 22C13 20.3431 14.3431 19 16 19 17.6569 19 19 20.3431 19 22Z"}}),n("path",{attrs:{d:"M44.001 39.5 46.995 36.5 31.5 36.5 31.5 71.5 51.002 71.5 51.002 68.5 49.502 68.5 49.502 57.5 42.002 57.5 42.002 60.5 46.502 60.5 46.502 68.5 34.5 68.5 34.5 60.5 37.002 60.5 37.002 57.5 34.5 57.5 34.5 51.5 40.011 51.5 41.006 48.5 34.5 48.5 34.5 39.5 44.001 39.5Z"}}),n("path",{attrs:{d:"M71.14 16.554 46.609 41.133 43.5 50.5 52.92 47.393 77.45 22.862ZM51.886 45.67 47.694 47.052 46.955 46.312 48.335 42.12C49.3366 41.1718 50.911 41.1936 51.886 42.169 52.8528 43.1078 52.8755 44.6525 51.9367 45.6193 51.92 45.6365 51.9031 45.6534 51.886 45.67Z"}})])},Yt=[],Gt={},Ut=Gt,Wt=Object(f["a"])(Ut,Ht,Yt,!1,null,null,null),Jt=Wt.exports,Kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("circle",{attrs:{cx:"48",cy:"48",r:"5"}}),n("circle",{attrs:{cx:"32",cy:"48",r:"5"}}),n("circle",{attrs:{cx:"64",cy:"48",r:"5"}})])},Xt=[],Qt={},te=Qt,ee=Object(f["a"])(te,Kt,Xt,!1,null,null,null),ne=ee.exports,re=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M47.986 10C27.0108 10 10.007 27.0038 10.007 47.979 10.007 68.9542 27.0108 85.958 47.986 85.958 68.9612 85.958 85.965 68.9542 85.965 47.979 85.965 47.9777 85.965 47.9763 85.965 47.975 85.9722 27.0092 68.9818 10.0072 48.016 10 48.006 9.99999 47.996 9.99999 47.986 10ZM66.605 51.36 51.367 51.36 51.367 66.594 44.605 66.594 44.605 51.356 29.367 51.356 29.367 44.594 44.605 44.594 44.605 29.356 51.367 29.356 51.367 44.594 66.605 44.594Z"}})])},ie=[],ae={},oe=ae,se=Object(f["a"])(oe,re,ie,!1,null,null,null),ce=se.exports,le=["","caption-changed","new-project"],ue={components:{dropDownContainer:v,IconExtend:ne,IconNew:ce,IconDelete:T,IconDb:Vt,IconDraw:Jt},props:{caption:{type:String},projectCollection:{type:Array}},data:function(){return{editCaptionMode:0,windowHeight:0}},computed:{dropMenuMaxHeight:function(){return this.windowHeight-117}},methods:{onStartEditCaption:function(){var t=this;0===this.editCaptionMode&&(this.editCaptionMode=1,this.$nextTick((function(){var e=t.$el.querySelector("input.caption-input");e&&(e.focus(),e.value=t.caption)})))},onSubmitCaption:function(){var t=this.$el.querySelector("input.caption-input");t&&(this.$emit(le[this.editCaptionMode],String(t.value).trim()),this.editCaptionMode=0)},onWindowResize:function(){this.windowHeight=window.innerHeight},onDeleteProject:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$confirm(t.$T("Are you sure to delete the current project?"),"question",[t.$T("No"),t.$T("Yes")]);case 2:if(!e.sent){e.next=4;break}t.$emit("delete-project");case 4:case"end":return e.stop()}}),e)})))()},onNewProject:function(){var t=this;0===this.editCaptionMode&&(this.editCaptionMode=2,this.$nextTick((function(){var e=t.$el.querySelector("input.caption-input");e&&(e.focus(),e.value=t.$T("New Project"),e.select())})))}},mounted:function(){var t=this;window.addEventListener("resize",this.onWindowResize.bind(this)),this.$nextTick((function(){return t.onWindowResize()}))}},de=ue,pe=(n("542d"),Object(f["a"])(de,Rt,Nt,!1,null,"1a6d9e26",null)),he=pe.exports,fe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"task-list-container",on:{focusout:t.onFocusOut}},t._l(t.list,(function(e,r){return n("div",{key:r,attrs:{"d-task-type":e instanceof Array?"group":"item","d-task-sub-index":r}},[e instanceof Array?n("div",{staticClass:"task-subgroup-panel"},t._l(e,(function(i,a){return n("task-list",{key:a,attrs:{list:i instanceof Array?i:e[a]=[i],"d-task-group-index":a},on:{"add-task-before":function(e){return t.onAddTask(r)},"add-task-after":function(e){return t.onAddTask(r+1)},"add-group-before":function(n){return t.onAddSiblingTaskGroup(e,a,r)},"add-group-after":function(n){return t.onAddSiblingTaskGroup(e,a+1,r)},"delete-group":function(n){return t.onDeleteGroup(e,a,r)},"delete-group-collection":function(e){return t.onDelete(r)}}})})),1):n("div",{staticClass:"task-item-panel",attrs:{tabindex:"0"},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"down",40,e.key,["Down","ArrowDown"])?null:t.log(e)},focusin:function(e){return t.onFocusIn(r)}}},[t.showKey===r?n("input",{staticClass:"task-text-input",attrs:{placeholder:t.$T("input the caption of this task")},domProps:{value:e.text},on:{change:function(n){return t.onChangeValue(arguments[0].target.value,e,"text")}}}):n("div",{staticClass:"task-text"},[t._v(t._s(String(e.text).trim()))]),t.showKey!==r?n("div",{staticClass:"task-item-summary-panel"},t._l(t.taskSummaryOptions,(function(r,i){return n("span",{key:i,staticClass:"task-item-summary",style:t.taskSummaryStyle(e,r)},[t._v(" "+t._s(r.textContent?t.taskSummaryValue(e,r):"")+" ")])})),0):n("div",{staticClass:"task-item-option-panel"},t._l(t.taskOptions,(function(r,i){return n("div",{key:i,staticClass:"task-item-option"},[t._v(" "+t._s(t.$T(r.tip))+": "),n("edit-item",{attrs:{type:r.type,list:r.values,canClear:!1,height:20,value:Object.keys(e).includes(i)?e[i]:e[i]=r.default},on:{"set-value":function(n){return t.onChangeValue(arguments[0],e,i)}}})],1)})),0),t.showKey===r?n("div",{staticClass:"task-toolbar"},[n("div",{staticClass:"tool-button task-tool-button",on:{click:function(e){return t.onAddTask(r+1)}}},[n("icon-plus",{attrs:{width:"12",height:"12"}}),t._v(" "+t._s(t.$T("Add Task"))+" "),n("drop-down-container",{staticClass:"task-tool-dropdown-button",attrs:{position:"bottom-right","dropdown-class":"task-tool-dropdown-box",autoDropdown:!1}},[n("icon-extend",{attrs:{width:"20",height:"20"}}),n("template",{slot:"drop-content"},[n("div",{on:{click:function(e){return t.onAddTask(r)}}},[t._v(t._s(t.$T("Before this task")))]),n("div",{on:{click:function(e){return t.onAddTask(r+1)}}},[t._v(t._s(t.$T("After this task")))]),t.isTopLevel?t._e():n("div",{on:{click:function(e){return t.$emit("add-task-before")}}},[t._v(t._s(t.$T("Before this group collection")))]),t.isTopLevel?t._e():n("div",{on:{click:function(e){return t.$emit("add-task-after")}}},[t._v(t._s(t.$T("After this group collection")))])])],2)],1),n("div",{staticClass:"tool-button task-tool-button",on:{click:function(e){return t.onAddSubTaskGroup(r+1)}}},[n("icon-stack-paper",{attrs:{width:"12",height:"12"}}),t._v(" "+t._s(t.$T("Add Task Group"))+" "),n("drop-down-container",{staticClass:"task-tool-dropdown-button",attrs:{position:"bottom-right","dropdown-class":"task-tool-dropdown-box",autoDropdown:!1}},[n("icon-extend",{attrs:{width:"20",height:"20"}}),n("template",{slot:"drop-content"},[n("div",{on:{click:function(e){return t.onAddSubTaskGroup(r)}}},[t._v(t._s(t.$T("Before this task")))]),n("div",{on:{click:function(e){return t.onAddSubTaskGroup(r+1)}}},[t._v(t._s(t.$T("After this task")))]),t.isTopLevel?t._e():n("div",{on:{click:function(e){return t.$emit("add-group-before")}}},[t._v(t._s(t.$T("Before this group")))]),t.isTopLevel?t._e():n("div",{on:{click:function(e){return t.$emit("add-group-after")}}},[t._v(t._s(t.$T("After this group")))])])],2)],1),n("div",{staticClass:"tool-button task-tool-button",attrs:{"d-tool-flag":"danger"},on:{click:function(e){return t.onDelete(r)}}},[n("icon-delete",{attrs:{width:"12",height:"12"}}),t._v(" "+t._s(t.$T("Delete"))+" "),n("drop-down-container",{staticClass:"task-tool-dropdown-button",attrs:{position:"bottom-right","dropdown-class":"task-tool-dropdown-box",autoDropdown:!1}},[n("icon-extend",{attrs:{width:"20",height:"20"}}),n("template",{slot:"drop-content"},[n("div",{on:{click:function(e){return t.onDelete(r)}}},[t._v(t._s(t.$T("This task")))]),t.isTopLevel?t._e():n("div",{on:{click:function(e){return t.$emit("delete-group")}}},[t._v(t._s(t.$T("This group")))]),t.isTopLevel?t._e():n("div",{on:{click:function(e){return t.$emit("delete-group-collection")}}},[t._v(t._s(t.$T("This group collection")))])])],2)],1)]):t._e()])])})),0)},me=[],ve=(n("159b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M85.806 34.055 85.624 33.98 85.624 33.98 85.299 33.845 85.149 33.782 85.149 33.782 82.438 32.655C83.247 30.766 84.071 28.817 84.913 26.79L85.297 25.866 31.947 3.692 31.563 4.616C21.15 29.67 13.123 44.431 6.3 51.07L5.216 52.129 13.416 55.538 11.856 59.3 11.856 59.3 11.65 59.772 15.235 69.3 69.648 91.92 89.936 43.109ZM33.026 6.307 82.682 26.945C72.69 50.877 64.906 65.245 58.27 72.015L8.749 51.431C15.511 44.219 23.073 30.147 33.026 6.307ZM15.265 56.307 58.728 74.371 59.201 73.911C65.572 67.711 72.601 55.405 81.647 34.493L84.381 35.63 65.31 81.514 13.7 60.064ZM68.565 89.307 16.8 67.79 14.9 62.727 66.39 84.127 85.49 38.176 87.756 43.144Z"}})])}),ge=[],we={},ye=we,be=Object(f["a"])(ye,ve,ge,!1,null,null,null),xe=be.exports;function Ce(t){if(t instanceof Array)t.forEach(Ce,this);else{var e=new Date(t.start).getTime(),n=new Date(t.end).getTime();this.start>e&&(this.start=e),this.end<n&&(this.end=n)}}function $e(t){if(t instanceof Array){var e={start:864e13,end:-864e13};return t.forEach(Ce,e),e}return{start:new Date(t.start).getTime(),end:new Date(t.end).getTime()}}var je={components:{dropDownContainer:v,IconPlus:H,IconExtend:ne,IconStackPaper:xe,IconDelete:T,editItem:jt},name:"task-list",props:{list:{type:Array,required:!0}},computed:{taskOptions:function(){return this.$Share().$TaskOptions},taskSummaryOptions:function(){return this.$Share().$TaskSummaryOptions},isTopLevel:function(){return void 0===this.$attrs["d-task-group-index"]}},data:function(){return{showKey:void 0,focusElement:void 0}},methods:{taskSummaryValue:function(t,e){var n=e.key,r=void 0===n?e.value:Object.keys(t).includes(n)?t[n]:this.taskOptions[n]?this.taskOptions[n].default:"";try{var i=e.valueMap;return"string"===typeof i&&(i=new Function("value",i)),"function"===typeof i?i(r):i?i[r]:r}catch(a){return r}},taskSummaryStyle:function(t,e){var n={},r=e.style;for(var i in r){var a=r[i];n[i]=null===a?this.taskSummaryValue(t,e):a}return n},onChangeValue:function(t,e,n){e[n]=t;var r=this.taskOptions[n].adjust;"string"===typeof r&&(r=new Function("value","item",r));var i="function"===typeof r&&r(t,e);i&&this.$tip(this.$T(i),"warn"),this.$Share().$Save(),this.$forceUpdate()},onAddTask:function(t){var e=this,n=t>0?$e(this.list[t-1]).end:$e(this.list[t]).start;this.list.splice(t,0,this.$Share().newTaskByDefault({start:n,end:n+864e5})),this.$Share().$Save(),this.$forceUpdate(),this.$nextTick((function(){var n=e.$el.querySelector(':scope > [d-task-type][d-task-sub-index="'.concat(t,'"] .task-item-panel'));n&&n.focus()}))},onAddSubTaskGroup:function(t){var e=this,n=t>0?$e(this.list[t-1]).end:$e(this.list[t]).start;this.list.splice(t,0,[[this.$Share().newTaskByDefault({start:n,end:n+864e5})]]),this.$Share().$Save(),this.$forceUpdate(),this.$nextTick((function(){var n=e.$el.querySelector(':scope > [d-task-type="group"][d-task-sub-index="'.concat(t,'"] .task-item-panel'));n&&n.focus()}))},onAddSiblingTaskGroup:function(t,e,n){var r=this,i=$e(t).start;t.splice(e,0,[this.$Share().newTaskByDefault({start:i,end:i+864e5})]),this.$Share().$Save(),this.$forceUpdate(),this.$nextTick((function(){var t=r.$el.querySelector(':scope > [d-task-type="group"][d-task-sub-index="'.concat(n,'"] > .task-subgroup-panel > [d-task-group-index="').concat(e,'"] .task-item-panel'));t&&t.focus()}))},onDelete:function(t){this.list.length<=1?this.isTopLevel?(this.list[0]=this.$Share().newTaskByDefault(),this.$Share().$Save(),this.$forceUpdate()):this.$emit("delete-group"):(this.list.splice(t,1),this.$Share().$Save(),this.$forceUpdate())},onDeleteGroup:function(t,e,n){t.length<=1?this.isTopLevel&&this.list.length<=1?this.list[0]=this.$Share().newTaskByDefault():this.list.splice(n,1):t.splice(e,1),this.$Share().$Save(),this.$forceUpdate()},onFocusIn:function(t){this.showKey=t,this.focusElement=this.$el.querySelector(':scope > [d-task-sub-index="'.concat(t,'"] > .task-item-panel'))},onFocusOut:function(t){var e=t.relatedTarget;e&&this.focusElement&&this.focusElement.contains(e)||(this.showKey=void 0)}}},ke=je,Se=(n("6ec3"),n("4a49"),Object(f["a"])(ke,fe,me,!1,null,"53b1910e",null)),Te=Se.exports,_e={components:{projectTitle:he,EditItem:jt,IconPlus:H,DropDownContainer:v,TaskList:Te,HelpButton:Pt},props:{projectIndex:{type:Number,default:0}},computed:{projectCollection:function(){var t=this.$Share().projects;return(!t||0>=t.length)&&(t=this.$Share().projects=[this.newProjectByDefault()]),this.$Share().projects},project:function(){var t=this.currentProjectIndex;t<0&&(t=0);var e=this.projectCollection;while(t>=e.length)e.push(this.newProjectByDefault());var n=e[t];return(!n.items||0>=n.items.length)&&(n.items=[this.$Share().newTaskByDefault()]),n}},data:function(){return{currentProjectIndex:0,showSummary:!1,projectSummaries:void 0,emptySummaries:void 0}},watch:{currentProjectIndex:function(){this.$Share().$Save(!0)}},mounted:function(){this.currentProjectIndex=Number(this.projectIndex)||0,this.prepareSummaryList()},methods:{newProjectByDefault:function(t){return{caption:t||"<".concat(this.$T("Nonamed Project"),">"),items:[this.$Share().newTaskByDefault()]}},prepareSummaryList:function(){var t=this.$Share().$SummaryOptions,e=Object.keys(this.project),n=this.projectSummaries={},r=this.emptySummaries={};for(var i in t)e.includes(i)?n[i]=t[i]:r[i]=t[i]},setSummaryItem:function(t,e){this.project[t]=e,this.$Share().$Save(),this.$forceUpdate()},clearSummaryItem:function(t){delete this.project[t],this.$Share().$Save(),this.prepareSummaryList()},addSummaryItem:function(t,e){this.project[t]=e.default,this.$Share().$Save(),this.prepareSummaryList()},onNewProject:function(t){this.projectCollection.push(this.newProjectByDefault(t)),this.currentProjectIndex=this.projectCollection.length-1},onDeleteProject:function(){var t=this,e=this.currentProjectIndex;this.projectCollection.splice(this.currentProjectIndex,1),e>=this.projectCollection.length&&(e-=1),e<0&&(this.projectCollection.push(this.newProjectByDefault()),e=0),this.currentProjectIndex=-1,this.$nextTick((function(){return t.currentProjectIndex=e}))}}},De=_e,Oe=(n("6757"),Object(f["a"])(De,c,l,!1,null,null,null)),Ie=Oe.exports,Le=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"project-collection-panel"},[n("div",{staticClass:"project-collection-container"},[t._l(t.projectCollection,(function(e,r){return n("div",{key:r,staticClass:"project-item",attrs:{"d-select-flag":t.selectList.indexOf(r)+1||void 0},on:{click:function(e){return e.stopPropagation(),t.onSelect(r)}}},[n("div",{staticClass:"project-item-image",style:{backgroundImage:"url("+(e.image||"./logo.png")+")"}}),n("span",{staticClass:"project-item-caption"},[t._v(t._s(e.caption))]),n("div",{staticClass:"project-item-open",on:{click:function(e){return e.stopPropagation(),t.$emit("change-view","detailEditor",r)}}},[n("icon-open",{attrs:{width:"46",height:"46",fill:"rgba(255, 255, 255, 0.8)",stroke:"#fff","stroke-width":"1px"}})],1),n("span",{staticClass:"project-select-flag"},[t._v(t._s(t.selectList.indexOf(r)>100?"..":t.selectList.indexOf(r)+1))])])})),n("div",{staticClass:"project-item project-add-button",on:{click:function(e){return e.stopPropagation(),t.$emit("change-view","detailEditor",t.projectCollection.length)}}},[n("icon-plus",{attrs:{width:"64",height:"64"}})],1)],2),n("div",{staticClass:"project-collection-toolbar"},[n("div",{staticClass:"tool-button projects-tool-button",attrs:{"d-tool-flag":"danger"},on:{click:t.onDelete}},[n("icon-delete",{attrs:{width:"16",height:"16"}}),t._v(" "+t._s(t.$T("Delete"))+" ")],1),n("div",{staticClass:"tool-button projects-tool-button",on:{click:t.onCopy}},[n("icon-copy",{attrs:{width:"16",height:"16"}}),t._v(" "+t._s(t.$T("Copy"))+" ")],1),n("div",{staticClass:"tool-button projects-tool-button",on:{click:t.onPaste}},[n("icon-paste",{attrs:{width:"16",height:"16"}}),t._v(" "+t._s(t.$T("Paste"))+" ")],1),n("div",{staticClass:"tool-button projects-tool-button",on:{click:t.onDraw}},[n("icon-draw",{attrs:{width:"16",height:"16"}}),t._v(" "+t._s(t.$T("Draw"))+" ")],1)]),n("help-button",{staticClass:"project-help",attrs:{width:"16",height:"16"}})],1)},Me=[],Ae=n("2909"),Ee=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M23 82 23 14 48 14 48 35 73 35 73 82 23 82ZM54 16.5 66.5 29 54 29 54 16.5ZM54 8 17 8 17 88 79 88 79 30 54 8Z"}}),n("rect",{attrs:{x:"29",y:"45",width:"38",height:"4"}}),n("rect",{attrs:{x:"29",y:"37",width:"13",height:"4"}}),n("rect",{attrs:{x:"29",y:"53",width:"38",height:"4"}}),n("rect",{attrs:{x:"29",y:"61",width:"38",height:"4"}}),n("rect",{attrs:{x:"29",y:"69",width:"38",height:"4"}})])},Pe=[],Re={},Ne=Re,Ze=Object(f["a"])(Ne,Ee,Pe,!1,null,null,null),ze=Ze.exports,Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M23 20 34 20 34 26 62 26 62 20 73 20 73 82 23 82 23 20ZM48.1 12C49.7 12 51 13.4 51 15 51 16.7 49.7 18 48 18 46.3 18 45 16.7 45 15 45 13.3 46.3 12 48.1 12ZM17 18 17 84C17 86.2 18.8 88 21 88L75 88C77.2 88 79 86.2 79 84L79 18C79 15.8 77.2 14 75 14L58 14 58 12C58 9.8 56.2 8 54 8L42 8C39.8 8 38 9.8 38 12L38 14 21 14C18.8 14 17 15.8 17 18Z"}}),n("rect",{attrs:{x:"29",y:"34",width:"17",height:"4"}}),n("rect",{attrs:{x:"29",y:"46",width:"17",height:"4"}}),n("rect",{attrs:{x:"29",y:"58",width:"17",height:"4"}}),n("rect",{attrs:{x:"29",y:"70",width:"17",height:"4"}}),n("rect",{attrs:{x:"57.5",y:"56.5",width:"7",height:"7"}}),n("rect",{attrs:{x:"57.5",y:"68.5",width:"7",height:"7"}}),n("path",{attrs:{d:"M52.9 35.8 55 33.7 57.6 36.3 64.2 29.7 66.3 31.8 57.6 40.5Z"}}),n("path",{attrs:{d:"M52.9 47.8 55 45.7 57.6 48.3 64.2 41.7 66.3 43.8 57.6 52.5Z"}})])},Fe=[],qe={},Ve=qe,He=Object(f["a"])(Ve,Be,Fe,!1,null,null,null),Ye=He.exports,Ge={components:{IconOpen:X,HelpButton:Pt,IconPlus:H,IconDelete:T,IconDraw:Jt,IconCopy:ze,IconPaste:Ye},props:["projectIndex"],computed:{projectCollection:function(){var t=this.$Share().projects;return(!t||0>=t.length)&&(t=this.$Share().projects=[this.newProjectByDefault()]),this.$Share().projects}},data:function(){return{selectList:[]}},mounted:function(){"number"===typeof this.projectIndex?this.selectList.push(this.projectIndex):this.projectIndex instanceof Array&&this.selectList.push.apply(this.selectList,this.projectIndex)},methods:{onSelect:function(t){var e=this.selectList.indexOf(t);e>=0?this.selectList.splice(e,1):this.selectList.push(t),this.$set(this.selectList,"$lastChange",t)},onDelete:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,i,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=t.selectList,!(n.length>0)){e.next=13;break}return e.next=4,t.$confirm(t.$T("Are you sure to delete the selected projects?"),"question",[t.$T("No"),t.$T("Yes")]);case 4:if(!e.sent){e.next=11;break}n.sort((function(t,e){return e-t})),r=Object(x["a"])(n);try{for(r.s();!(i=r.n()).done;)a=i.value,t.projectCollection.splice(a,1)}catch(o){r.e(o)}finally{r.f()}n.splice(0),t.$Share().$Save(!0),t.$delete(t.selectList,"$lastChange");case 11:e.next=14;break;case 13:t.$tip(t.$T("Select any project first"),"error");case 14:case"end":return e.stop()}}),e)})))()},onDraw:function(){this.$Share().$Save(!0);var t=Object(Ae["a"])(this.selectList);t.length>0?this.$emit("change-view","drawView",t):this.$tip(this.$T("Select any project first"),"error")},onCopy:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,i,a,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={},e.prev=1,!(t.selectList.length<=0)){e.next=5;break}throw n.message="Select any project first",n;case 5:if(!navigator.permissions.query){e.next=11;break}return e.next=8,navigator.permissions.query({name:"clipboard-write"});case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0={state:"granted"};case 12:if(r=e.t0,i=r.state,"granted"===i||"prompt"===i){e.next=17;break}throw n.message="Can't access the clipboard",n;case 17:if(navigator.clipboard&&navigator.clipboard.writeText){e.next=20;break}throw n.message="Not support clipboard API",n;case 20:a=[],t.selectList.forEach((function(e){a.push(t.projectCollection[e])})),o=JSON.stringify({"season-roadmap-projects":a}),navigator.clipboard.writeText(o).then((function(){return t.$tip(t.$T("Projects has been copied to clipboard"),"info")}),(function(){return t.$tip(t.$T("Fail in copying the projects"),"error")})),e.next=29;break;case 26:e.prev=26,e.t1=e["catch"](1),e.t1===n?t.$tip(t.$T(e.t1.message),"error"):(t.$tip(t.$T("Fail in copying to clipboard"),"error"),console.error(e.t1));case 29:case"end":return e.stop()}}),e,null,[[1,26]])})))()},onPaste:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r,i,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n={},e.prev=1,!navigator.permissions.query){e.next=8;break}return e.next=5,navigator.permissions.query({name:"clipboard-read"});case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0={state:"granted"};case 9:if(r=e.t0,i=r.state,"granted"===i||"prompt"===i){e.next=14;break}throw n.message="Can't access the clipboard",n;case 14:if(navigator.clipboard&&navigator.clipboard.readText){e.next=17;break}throw n.message="Not support clipboard API",n;case 17:return e.next=19,navigator.clipboard.readText();case 19:a=e.sent,o=JSON.parse(a),s=o["season-roadmap-projects"],s instanceof Array&&(Array.prototype.push.apply(t.projectCollection,s),t.$forceUpdate()),e.next=27;break;case 24:e.prev=24,e.t1=e["catch"](1),e.t1===n?t.$tip(t.$T(e.t1.message),"error"):(t.$tip(t.$T("Fail in pasting from clipboard"),"error"),console.error(e.t1));case 27:case"end":return e.stop()}}),e,null,[[1,24]])})))()}}},Ue=Ge,We=(n("85d6"),Object(f["a"])(Ue,Le,Me,!1,null,"44babf1c",null)),Je=We.exports,Ke=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"draw-view-panel"},[t._v(" "+t._s(t.$T("Select a Template"))+" "),n("div",{staticClass:"draw-view-container"},[void 0===t.templateList?n("div",[n("p",{staticStyle:{"margin-bottom":"6px"}},[n("loader-animate",{attrs:{"d-style-background":"80px/80px url('./logo.png')","d-style-width":"7px","d-style-height":"80px"}})],1),n("p",[t._v(t._s(t.$T("Loading"))+"...")])]):t._l(t.templateList,(function(e,r){return n("div",{key:r,staticClass:"template-item",attrs:{"d-template-desc":e.desc},on:{click:function(n){return t.onSelect(e)}}},[n("div",{staticClass:"template-thumb",style:{backgroundImage:"url('"+(e.thumb||"logo.png")+"')"}}),n("div",{staticClass:"template-name"},[t._v(t._s(e.name))])])}))],2),n("div",{staticClass:"tool-button draw-return-button",on:{click:t.onReturn}},[n("icon-return",{attrs:{width:"16",height:"16"}}),t._v(" "+t._s(t.$T("Return"))+" ")],1)])},Xe=[],Qe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"loader loader-17",style:t.customStyle},[n("div",{staticClass:"css-square",style:Object.assign({"--delay":"0.125s","--index":0},t.customStyle)}),n("div",{staticClass:"css-square",style:Object.assign({"--delay":"0.3s","--index":1},t.customStyle)}),n("div",{staticClass:"css-square",style:Object.assign({"--delay":"0.425s","--index":2},t.customStyle)}),n("div",{staticClass:"css-square",style:Object.assign({"--delay":"0.540s","--index":3},t.customStyle)}),n("div",{staticClass:"css-square",style:Object.assign({"--delay":"0.655s","--index":4},t.customStyle)}),n("div",{staticClass:"css-square",style:Object.assign({"--delay":"0.79s","--index":5},t.customStyle)}),n("div",{staticClass:"css-square",style:Object.assign({"--delay":"0.9s","--index":6},t.customStyle)}),n("div",{staticClass:"css-square",style:Object.assign({"--delay":"1s","--index":7},t.customStyle)})])},tn=[],en=(n("2ca0"),n("ac1f"),n("5319"),{computed:{customStyle:function(){var t={},e=this.$attrs;for(var n in e)n.startsWith("d-style-")&&(t["--".concat(n.replace("d-style-",""))]=e[n]);return t}}}),nn=en,rn=(n("f7fa"),Object(f["a"])(nn,Qe,tn,!1,null,"0426e510",null)),an=rn.exports,on=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M86.3 44.3C85.3 42.3 84 40.5 82.6 38.8 74.3 29.3 59.2 29 59.2 29L30 29 30 14C25.8 18.1 25.9 17.1 6 37 6.1 37 25.9 57.9 30 62L30 46.6 59.1 46.6C59.1 46.6 73 46.6 73 59.8 73 74.3 49 74 49 74L10 77C10 77 37.5 81.5 63.1 81.2 82 81 94.8 61.2 86.3 44.3Z"}})])},sn=[],cn={},ln=cn,un=Object(f["a"])(ln,on,sn,!1,null,null,null),dn=un.exports,pn={components:{loaderAnimate:an,IconReturn:dn},props:{projectIndex:[Array,Number]},data:function(){return{templateList:void 0}},methods:{onSelect:function(t){this.$emit("change-view","drawResultView",{projects:this.projectIndex,templateURL:t.url})},onReturn:function(){this.$emit("change-view","projectsView",this.projectIndex)}},mounted:function(){var t=this;this.$nextTick((function(){return fetch("./templates/list.json").then((function(t){return t.json()})).then((function(e){return t.templateList=e})).catch((function(e){console.error("[Fail in fetch template list]",e),t.$tip(t.$T("Fail in loading the templates"),{type:"error",closable:!0,onclose:function(){t.$emit("change-view","projectsView",t.projectIndex)}})}))}))}},hn=pn,fn=(n("32d4"),Object(f["a"])(hn,Ke,Xe,!1,null,"f4d8e670",null)),mn=fn.exports,vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"draw-result-background"},[void 0===t.image?n("div",{staticClass:"draw-result-panel draw-result-wait-panel"},[n("loader-animate",{attrs:{"d-style-background":"80px/80px url('./logo.png')","d-style-width":"7px","d-style-height":"80px"}}),n("div",[t._v(t._s(t.$T(t.workTip))+"...")])],1):n("div",{staticClass:"draw-result-panel"},[n("div",{staticClass:"draw-result-toolbar-top"},[n("div",{staticClass:"draw-prime-year"},[t._v(" "+t._s(t.$T("Prime Year"))+": "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.currentPrimeYear,expression:"currentPrimeYear"}],attrs:{type:"number"},domProps:{value:t.currentPrimeYear},on:{input:function(e){e.target.composing||(t.currentPrimeYear=e.target.value)}}})]),n("div",{staticClass:"draw-fixed-size",on:{click:t.onFixedSize}},[n("icon-fixed-size",{attrs:{witdh:"20",height:"20"}})],1)]),n("div",{ref:"container",staticClass:"draw-result-container",style:t.containerStyle,on:{mousewheel:t.onZoomWheel}},[n("div",{staticClass:"draw-result",style:t.resultStyle})])]),t.image?n("div",{staticClass:"draw-result-toolbar-bottom"},[n("div",{staticClass:"tool-button draw-result-tool-button",on:{click:t.onReturn}},[n("icon-return",{attrs:{width:"16",height:"16"}}),t._v(" "+t._s(t.$T("Return"))+" ")],1),n("div",{staticClass:"tool-button draw-result-tool-button",on:{click:t.onSave}},[n("icon-download",{attrs:{width:"16",height:"16"}}),t._v(" "+t._s(t.$T(t.$Share().$Insert?"Insert":"Save"))+" ")],1),n("div",{staticClass:"tool-button draw-result-tool-button",attrs:{"d-tool-flag":"danger"},on:{click:t.onClose}},[n("icon-exit",{attrs:{width:"16",height:"16"}}),t._v(" "+t._s(t.$T("Close"))+" ")],1)]):t._e(),n("div",{ref:"workFrame",staticClass:"draw-work-frame"})])},gn=[],wn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M68.5 44 56 44 56 16 40 16 40 44 27.5 44 48 68Z"}}),n("path",{attrs:{d:"M73 56 73 74 23 74 23 56 17 56 17 80 79 80 79 56Z"}})])},yn=[],bn={},xn=bn,Cn=Object(f["a"])(xn,wn,yn,!1,null,null,null),$n=Cn.exports,jn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg"}},[n("path",{attrs:{d:"M36.315 91 10 80.1 10 14.999 36.315 4.099 36.315 91Z"}}),n("path",{attrs:{d:"M63.068 25.866 63.068 38.366 40.315 38.366 40.315 54.366 63.068 54.366 63.068 66.866 87.068 46.366 63.068 25.866Z"}}),n("path",{attrs:{d:"M51.068 34.366 57.068 34.366 57.068 14.366 40.315 14.366 40.315 20.366 51.068 20.366 51.068 34.366Z"}}),n("path",{attrs:{d:"M51.068 58.366 51.068 74.366 40.315 74.366 40.315 80.366 57.068 80.366 57.068 58.366 51.068 58.366Z"}})])},kn=[],Sn={},Tn=Sn,_n=Object(f["a"])(Tn,jn,kn,!1,null,null,null),Dn=_n.exports,On=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{attrs:{viewBox:"0 0 96 96",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}},[n("defs",[n("clipPath",{attrs:{id:"cut-off"}},[n("path",{attrs:{d:"M0,0h96v96h-96ZM17,17v62h62v-62Z","stroke-width":"0",fill:"#000"}})])]),n("path",{attrs:{d:"M4,48L48,4L90,48L48,90Z",fill:"none","stroke-width":"2","clip-path":"url(#cut-off)"}}),n("rect",{attrs:{x:"28",y:"28",width:"40",height:"40","stroke-width":"2",fill:"none"}})])},In=[],Ln={},Mn=Ln,An=Object(f["a"])(Mn,On,In,!1,null,null,null),En=An.exports,Pn=n("c4e3"),Rn=n.n(Pn),Nn=n("3788"),Zn=n.n(Nn),zn={components:{iconFixedSize:En,IconReturn:dn,IconDownload:$n,IconExit:Dn,LoaderAnimate:an},props:{projectIndex:{type:Object,required:!0}},computed:{resultSize:function(){return{width:this.imageWidth*this.ratio/10-2,height:this.imageHeight*this.ratio/10-2}},resultStyle:function(){var t=this.resultSize,e=t.width,n=t.height;return{backgroundImage:'url("'.concat(this.image,'")'),width:"".concat(e,"px"),height:"".concat(n,"px")}},containerStyle:function(){var t=this.resultSize,e=t.width,n=t.height,r={},i=this.$refs.container;if(i){var a=i.getClientRects()[0],o=a.width,s=a.height;e>=o&&(r.justifyContent="unset"),n>=s&&(r.alignItems="unset")}return r}},data:function(){return{workTip:"",image:void 0,imageWidth:200,imageHeight:200,ratio:10,currentPrimeYear:2021}},watch:{currentPrimeYear:function(t){this.processDrawing(t)}},mounted:function(){this.processDrawing()},methods:{processDrawing:function(t){var e=this;console.log("Using roadmap.svg.js = ".concat(Zn.a.VERSION,"_").concat(Zn.a.STAMP)),this.image=void 0,this.workTip="Loading template",fetch(this.projectIndex.templateURL).then((function(t){return t.blob()})).then((function(t){return e.parseRtpx(t)})).then((function(){return setTimeout((function(){return e.drawRoadmap(t)}),0)})).catch((function(t){return e.showError("Fail in loading the template",t)}))},parseRtpx:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,i,a;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.workTip="Parsing template",r=e.$refs.workFrame,n.next=5,(new Rn.a).loadAsync(t);case 5:return i=n.sent,n.next=8,i.file("template.svg").async("string");case 8:a=n.sent,r.innerHTML="",r.insertAdjacentHTML("afterbegin",a),n.next=16;break;case 13:n.prev=13,n.t0=n["catch"](0),e.showError("Fail in parsing template",n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})))()},drawRoadmap:function(t){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){var r,i,a,o,s;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.prev=0,e.workTip="Drawing roadmap",r=e.$refs.workFrame,i=r.querySelector("svg"),a=new Zn.a(r,i),o=[],e.projectIndex.projects.forEach((function(t){return o.push(e.$Share().projects[t])})),void 0===t&&(t=Zn.a.inferPrimeYear.apply(Zn.a,o)),e.currentPrimeYear!=t&&(e.currentPrimeYear=t),a.setPrimeDate("".concat(t,"/01/01")),a.showProjects(o),n.next=13,a.toImageData();case 13:s=n.sent,e.imageWidth=s.width,e.imageHeight=s.height,e.image=s.data,e.ratio=10,setTimeout((function(){return e.onFixedSize()}),0),n.next=24;break;case 21:n.prev=21,n.t0=n["catch"](0),e.showError("Fail in drawing roadmap",n.t0);case 24:case"end":return n.stop()}}),n,null,[[0,21]])})))()},showError:function(t,e){var n=this;console.error(t,e),this.$tip(this.$T(t),{type:"error",closable:!0,onclose:function(){return n.onReturn()}})},onZoomWheel:function(t){t.deltaY>0?this.ratio>=2&&(this.ratio-=1):t.deltaY<0&&this.ratio<20&&(this.ratio+=1)},onFixedSize:function(){var t=this.$refs.container;if(t){var e=t.getClientRects()[0],n=e.width,r=e.height,i=n/r>this.imageWidth/this.imageHeight?r/this.imageHeight:n/this.imageWidth;i*=10,this.ratio=i===this.ratio?10:i}},onReturn:function(){this.$emit("change-view","drawView",this.projectIndex.projects)},onClose:function(){this.$emit("change-view","projectsView")},onSave:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=t.$Share().$Insert,e.next=4,"function"===typeof n?n({image:t.image,width:t.imageWidth,height:t.imageHeight}):Object(Y["dynInvokeLink"])(t.image,{download:"roadmap.png"});case 4:r=e.sent,r&&t.showError("Fail in saving image",r),e.next=11;break;case 8:e.prev=8,e.t0=e["catch"](0),t.showError("Fail in saving",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},Bn=zn,Fn=(n("7c5d"),Object(f["a"])(Bn,vn,gn,!1,null,"2b47774f",null)),qn=Fn.exports,Vn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wait-panel"},[n("loader-animate",{attrs:{"d-style-background":"80px/80px url('./logo.png')","d-style-width":"7px","d-style-height":"80px"}}),t.overTime?n("p",[t._v(t._s(t.$T("The loading process took too long time.")))]):t._e(),t.overTime?n("p",[t._v(t._s(t.$T("Please check your network.")))]):n("p",[t._v(t._s(t.$T("Loading"))+"...")])],1)},Hn=[],Yn={components:{loaderAnimate:an},data:function(){return{overTime:!1}},mounted:function(){var t=this;setTimeout((function(){return t.overTime=!0}),5e3)}},Gn=Yn,Un=(n("50ad"),Object(f["a"])(Gn,Vn,Hn,!1,null,"3bd6fb2e",null)),Wn=Un.exports,Jn=n("68c6"),Kn=n("5796"),Xn=n("9691");function Qn(t){return new Promise((function(e){try{var n=t.image.indexOf("base64,"),r=t.image.substr(n+7);Office.context.document.setSelectedDataAsync(r,{coercionType:Office.CoercionType.Image},(function(t){return e(t.status===Office.AsyncResultStatus.Failed?t.error.message:void 0)}))}catch(i){e(i)}}))}var tr=void 0,er=3e3;function nr(){Office.context.document.settings.saveAsync((function(t){t.status===Office.AsyncResultStatus.Failed?(Object(Kn["b"])(Object(Xn["a"])("Fail in saving the data"),"error"),tr=setTimeout(nr,er)):tr=void 0}))}function rr(t){try{Office.context.document.settings.set("projectCollection",Jn["a"].projects),t?(tr&&clearTimeout(tr),tr=setTimeout(nr,0)):void 0===tr&&(tr=setTimeout(nr,er))}catch(e){Object(Kn["b"])(Object(Xn["a"])("Fail in saving the data"),"error")}}function ir(){return new Promise((function(t){try{Office.context.document.settings.refreshAsync((function(e){if(e.status!==Office.AsyncResultStatus.Failed){var n=Office.context.document.settings.get("projectCollection");n instanceof Array&&(Jn["a"].projects=n)}t(e.status)}))}catch(e){t(e)}}))}function ar(){var t=function t(e){Office?Office.onReady(e):setTimeout(t,500,e)};return new Promise(t)}function or(){return sr.apply(this,arguments)}function sr(){return sr=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,ar();case 2:return t.next=4,Xn["a"].setLocale(Office.context.displayLanguage);case 4:Jn["a"].initItem("$Insert",Qn),Jn["a"].initItem("$Save",rr),Jn["a"].initItem("$Load",ir);case 7:case"end":return t.stop()}}),t)}))),sr.apply(this,arguments)}function cr(){try{localStorage.setItem("projectCollection",JSON.stringify(Jn["a"].projects))}catch(t){Object(Kn["b"])(Object(Xn["a"])("Fail in saving the data"),"error")}}function lr(){try{var t=localStorage.getItem("projectCollection");if(t){var e=JSON.parse(t);e instanceof Array&&(Jn["a"].projects=e)}}catch(n){Object(Kn["b"])(Object(Xn["a"])("Fail in saving the data"),"error")}}function ur(){return dr.apply(this,arguments)}function dr(){return dr=Object(s["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Xn["a"].setLocale(navigator.language);case 2:Jn["a"].initItem("$Save",cr),Jn["a"].initItem("$Load",lr);case 4:case"end":return t.stop()}}),t)}))),dr.apply(this,arguments)}var pr="projectsView",hr={components:{detailEditor:Ie,projectsView:Je,drawView:mn,drawResultView:qn,waitLoadingView:Wn},data:function(){return{activeView:Wn,projectIndex:void 0}},methods:{onChangeView:function(t,e){this.projectIndex=e,this.activeView=t},onInit:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var n,a,o,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,n=window["$$Office$Addin$$SeasonStudio"]?r:i,e.next=4,n.init();case 4:return e.next=6,t.$Share().$Load();case 6:return e.next=8,fetch("./templates/options.json");case 8:if(a=e.sent,!a.ok){e.next=16;break}return e.next=12,a.json();case 12:o=e.sent,["$SummaryOptions","$TaskOptions"].forEach((function(e){var n=t.$Share()[e],r=o[e];if(r)for(var i in r)n[i]=r[i]})),s=t.$Share().$TaskSummaryOptions,o.$TaskSummaryOptions&&s.push.apply(s,o.$TaskSummaryOptions);case 16:e.next=23;break;case 18:e.prev=18,e.t0=e["catch"](0),t.$tip(t.$T("Fail in initializing"),"error"),t.$tip(e.t0,{closable:!0}),console.error("Fail in initializing",e.t0);case 23:t.activeView=pr;case 24:case"end":return e.stop()}}),e,null,[[0,18]])})))()}},mounted:function(){this.onInit()}},fr=hr,mr=(n("928c"),Object(f["a"])(fr,a,o,!1,null,null,null));e["a"]=mr.exports},f7fa:function(t,e,n){"use strict";n("dcbd")},f98f:function(t,e,n){"use strict";n.r(e),n.d(e,"getTopZIndex",(function(){return i})),n.d(e,"NumberFromStyle",(function(){return a})),n.d(e,"eventCoordinateFromElement",(function(){return o})),n.d(e,"listenResize",(function(){return s})),n.d(e,"dynInvokeLink",(function(){return c})),n.d(e,"pickFile",(function(){return l})),n.d(e,"mouseButton",(function(){return u}));var r=n("2909");n("13d5"),n("a9e3"),n("ac1f"),n("5319"),n("d3b7");function i(t){return Object(r["a"])((t||document.body).querySelectorAll("*")).reduce((function(t,e){return Math.max(t,Number(window.getComputedStyle(e).zIndex)||0)}),0)+1}function a(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t=String(t).replace(/\D+$/,""),t&&Number(t)||e}function o(t,e){var n=0,r=0;while(e)n+=e.offsetLeft-e.scrollLeft+e.clientLeft,r+=e.offsetTop-e.scrollTop+e.clientTop,e=e.offsetParent;return n=t.pageX-n,r=t.pageY-r,{x:n,y:r}}function s(t,e){var n=e instanceof ResizeObserver?e:new ResizeObserver(e);return n.observe(t),n}function c(t,e){if(t){var n=document.createElement("a");if(n){if(n.href=t,n.rel="noopener",e)for(var r in e)n[r]=e[r];n.click()}}}function l(t){return new Promise((function(e,n){try{var r=document.createElement("input");r.type="file",t&&(r.accept=t),r.addEventListener("change",(function(){var t=r.files;t.length>0?e(t[0]):e(void 0)})),r.click()}catch(i){n(i)}}))}function u(t){return void 0===t.which?t.button+1:t.which}},fa47:function(t,e,n){},ff39:function(t,e,n){}}]);
//# sourceMappingURL=chunk-common.54d83a28.js.map